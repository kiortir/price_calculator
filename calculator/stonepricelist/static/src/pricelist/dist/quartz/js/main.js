var ae=Object.defineProperty;var H=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var N=(l,a,t)=>a in l?ae(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,O=(l,a)=>{for(var t in a||(a={}))ne.call(a,t)&&N(l,t,a[t]);if(H)for(var t of H(a))re.call(a,t)&&N(l,t,a[t]);return l};import{d as I,u as j,r as E,c as z,o,a as c,b as e,w as ue,v as ie,e as s,i as M,f as D,g,F as k,h as $,T as Z,p as ee,j as te,n as U,t as C,k as se,l as S,m as ce,q as le,s as y,x as q,y as de,Q as K,_ as fe,z as pe,G as _e,Y as ve,A as xe,B as he,K as W,C as oe,D as me,E as ye,H as be,I as V,J as ge,L as we,M as ke}from"./vendor.js";var R=(l,a)=>{const t=l.__vccOpts||l;for(const[n,r]of a)t[n]=r;return t};const $e=l=>(ee("data-v-4035ad46"),l=l(),te(),l),Ce={class:"flex-col flex gap-3 h-full"},Me={class:"search-tab w-full mt-4 relative px-2"},Ee=$e(()=>e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-auto"},[e("svg",{class:"absolute h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),ze=["onClick"],Be={class:"w-full"},De={class:""},Ie=I({props:{tab:null},emits:["update"],setup(l,{emit:a}){const t=l,n=j();function r(m){a("update",m)}let u=E(""),p=z(()=>Object.values(n.state.manufacturers).filter(m=>m.name.toLowerCase().startsWith(u.value.toLowerCase())));return(m,v)=>(o(),c("div",Ce,[e("div",Me,[Ee,ue(e("input",{"onUpdate:modelValue":v[0]||(v[0]=_=>M(u)?u.value=_:u=_),type:"text",class:"font-sans block w-full pl-10 py-2 px-3 ring-1 ring-palette_olive/[0.4] rounded-xl accent-palette_accent"},null,512),[[ie,s(u)]])]),D(Z,{class:"result-tab flex flex-1 flex-col w-full mx-auto gap-3 xl:gap-0 xl:divide-y pl-1 pr-1 xl:pr-0 pt-2 overflow-x-hidden",name:"list",tag:"div"},{default:g(()=>[(o(!0),c(k,null,$(s(p),_=>(o(),c("div",{type:"button",class:U(["last:flex last:flex-grow ring-1 ring-inset xl:ring-0 rounded-xl xl:rounded-none transition-color duration-100 text-xl font-sans hover:shadow-md lg:shadow-none",[_.name===t.tab?"ring-unirock xl:ring-sky-400":"text-gray-500 border-r-2  "]]),key:_.id,onClick:i=>r(_.name)},[e("div",Be,[e("div",{class:U(["w-full text-left pl-3 py-2 h-content xl:hover:shadow-md hover:text-gray-700 xl:hover:bg-sky-100 active:contrast-135 transition-all transition-ease duration-100",[_.name===t.tab?"white text-black xl:shadow-xl xl:border-l-4 xl:border-l-blue-400 borter-t-0 translate-x-1":"text-gray-500"]])},[e("span",De,C(_.name),1)],2)])],10,ze))),128))]),_:1})]))}});var Q=R(Ie,[["__scopeId","data-v-4035ad46"]]);const Y={q:"\u0439",w:"\u0446",e:"\u0443",r:"\u043A",t:"\u0435",y:"\u043D",u:"\u0433",i:"\u0448",o:"\u0449",p:"\u0437","[":"\u0445","{":"\u0425","]":"\u044A","}":"\u042A","|":"/","`":"\u0451","~":"\u0401",a:"\u0444",s:"\u044B",d:"\u0432",f:"\u0430",g:"\u043F",h:"\u0440",j:"\u043E",k:"\u043B",l:"\u0434",";":"\u0436",":":"\u0416","'":"\u044D",'"':"\u042D",z:"\u044F",x:"\u0447",c:"\u0441",v:"\u043C",b:"\u0438",n:"\u0442",m:"\u044C",",":"\u0431","<":"\u0411",".":"\u044E",">":"\u042E","/":".","?":",","@":'"',"#":"\u2116",$:";","^":":","&":"?"},Ae=()=>{const l={};return Object.entries(Y).forEach(a=>{const[t,n]=a;l[n]=t}),{dict:Y,reverse:l}};var J=Ae();const Fe={key:0,class:"overflow-x-auto border-slate-300 h-full w-full max-w-[60vw] border-x"},Se={class:"table-auto border-separate h-content overflow-hidden xl:border-t"},je={key:0,class:"sticky top-0 shadow-sm"},Te={class:"first:bg-[#26a69a] first:text-white text-slate-600 last:bg-white bg-[#26a69a]/10 last:text-black sticky top-0"},Le=["colspan","rowspan"],Oe={key:1,class:"card-stones px-3 gap-3 before:box-inherit after:box-inherit box-border flex flex-row w-full xl:max-w-[60vw]"},qe={class:"card-column flex flex-col flex-grow"},Ve={class:"card font-sans ring-1 ring-unirock/30 shadow-md w-fill rounded-xl py-3 px-5 flex flex-col mb-3 last:mb-0"},Re={class:"card-header w-fit self-end"},Ge={class:"text-xl font-semibold"},He={class:"text-right text-sm text-gray-400"},Ne={class:"mt-1 border-t border-slate-600"},Ue={class:"table-fixed w-full"},Ke={class:"text-left text-[0.7rem] font-sans py-2"},We={class:"last:after:content-['\u043C\u043C']"},Qe={class:"text-right"},Ye=I({props:{columns:null,source:null,filter:null,currency:null,multiplier:null},setup(l){const a=l,t=se("tailwind"),n={name:{"text-align":"left","font-weight":550}},r=z(()=>{const i=new Map;i.map=new Map;let f=a.columns,x=0;if(f.length){for(;;){const d=new Map;let w=0,h=[];if(f.forEach(b=>{let A=`${w++}${b.prop}`||`${w++}${b.name}`;d.set(A,b),b.children!==void 0?h=h.concat(...b.children):b.prop!==void 0&&i.map.set(b.prop,"_")}),i.set(x++,d),h.length==0)break;f=h}return i}else{const d=new Map;return d.map=new Map,d}}),u=z(()=>{const i=a.filter,f=[],x=[];Array.from(i).forEach(h=>{f.push(J.dict[h]),x.push(J.reverse[h])});const d=f.join("")||"_",w=x.join("")||"_";return{filter:i,reverse:w,translit:d}}),p=z(()=>{console.log({header:r.value});const{filter:i,translit:f,reverse:x}=u.value;let d,w=0;return t.xl&&r.value.map.size<10?d=[]:t.sm?d=[[],[]]:d=[[]],a.source.forEach(h=>{const[b,A]=[h.code!==null?h.code.toLowerCase():"",h.name.toLowerCase()];if([A,b].some(B=>[B].concat(...B.split(" ")).some(L=>[i,f,x].some(F=>L.startsWith(F)))))if(!t.xl||r.value.map.size>9){const B={configurations:{}};Object.entries(h).forEach(L=>{const[F,G]=L;["code","name"].includes(F)?B[F]=G:B.configurations[F]=G}),t.sm?d[w++%2].push(B):d[0].push(B)}else d.push(h)}),d}),m=z(()=>r.value.size>0?new Map([...r.value].filter(i=>new Set([...i[1].values()].map(x=>x.name)).size>1)):new Map);let v=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0});function _(i){return v.format(Number(i)*a.currency*a.multiplier)}return(i,f)=>s(t).xl&&s(r).map.size<10?(o(),c("div",Fe,[e("table",Se,[s(r).keys()?(o(),c("thead",je,[s(r).values()?(o(!0),c(k,{key:0},$(s(m).values(),x=>(o(),c("tr",Te,[(o(!0),c(k,null,$(x.values(),d=>(o(),c("td",{colspan:d.colspan||1,class:"border-r last:border-r-0 border-b text-inherit bg-inherit px-5 font-sans border-slate-400/[0.8] font-semibold sticky top-0",rowspan:d.children?1:3},C(d.name),9,Le))),256))]))),256)):S("",!0)])):S("",!0),D(Z,{name:"list",tag:"tbody",class:""},{default:g(()=>[(o(!0),c(k,null,$(s(p),x=>(o(),c("tr",{class:"even:bg-[#ddf2f0] odd:bg-white hover:bg-sky-200",key:x.name},[(o(!0),c(k,null,$(s(r).map.keys(),d=>(o(),c("td",{class:"bg-inherit border-r last:border-r-0 px-5 font-sans border-t border-[#e2e3e3]",key:d,style:ce(n[d])},C(typeof x[d]=="number"?_(x[d]):x[d]||"-"),5))),128))]))),128))]),_:1})])])):(o(),c("div",Oe,[(o(!0),c(k,null,$(Array(s(t).sm?2:1),(x,d)=>(o(),c("div",qe,[(o(!0),c(k,null,$(s(p)[d],w=>(o(),c("div",Ve,[e("div",Re,[e("div",Ge,C(w.name),1),e("div",He,C(w.code),1)]),e("div",Ne,[e("table",Ue,[e("tbody",null,[(o(!0),c(k,null,$(w.configurations,(h,b)=>(o(),c("tr",{key:b,class:"border-b last:border-b-0"},[e("td",Ke,[(o(!0),c(k,null,$(b.split(" "),A=>(o(),c("div",We,C(A),1))),256))]),e("td",Qe,C(_(h)),1)]))),128))])])])]))),256))]))),256))]))}});var Je=R(Ye,[["__scopeId","data-v-7032fcba"]]);const Pe=l=>(ee("data-v-1c666e2a"),l=l(),te(),l),Xe={class:"relative flex flex-col gap-y-3 w-full xl:px-3 mb-10"},Ze={class:"searchcontainer px-3 flex flex-col xl:flex-row gap-5"},et={class:"search-tab mt-4 relative w-full xl:w-80 mx-auto xl:mx-0 max-w-80 h-100 flex"},tt=Pe(()=>e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-auto"},[e("svg",{class:"absolute h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),st=["value"],lt={class:"currency-data flex self-end place-self-end"},ot={class:"currency-source font-sans"},at=I({props:{manufacturer:null},setup(l,{expose:a}){const t=l,n=j();let r=z(()=>n.state.manufacturers[t.manufacturer]||{stones:[],schema:[],applied_currency:{source:"",value:1},additional_info:{},multipliers:1}),u=E("");const p=E();function m(v){(v.key=="F3"||v.ctrlKey&&v.code=="KeyF")&&(v.preventDefault(),p.value.focus()),v.key=="Escape"&&(document.activeElement===p.value?p.value.blur():u.value="")}return le(()=>{window.addEventListener("keydown",m)}),a({stonesearch:p}),(v,_)=>(o(),c("div",Xe,[e("div",Ze,[e("div",et,[tt,e("input",{id:"search",ref_key:"stonesearch",ref:p,placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u0430\u043C\u043D\u044F",type:"search",class:"font-sans block w-full pl-10 py-2 ring-1 rounded-lg accent-palette_accent",value:s(u),onInput:_[0]||(_[0]=i=>M(u)?u.value=i.target.value:u=i.target.value)},null,40,st)]),e("div",lt,[e("div",ot,"\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u043A\u0443\u0440\u0441\u0430: "+C(s(r).applied_currency.source),1)])]),(o(),y(Je,{class:"w-full",columns:s(r).schema,source:s(r).stones,filter:s(u).toLowerCase(),currency:s(r).applied_currency.value,multiplier:s(r).multipliers,key:l.manufacturer},null,8,["columns","source","filter","currency","multiplier"]))]))}});var nt=R(at,[["__scopeId","data-v-1c666e2a"]]);const rt={key:0,class:"px-3 font-sans divide-y divide-slate-500"},ut={key:0,class:"flex flex-col divide-y gap-2"},it=["src"],ct={class:"flex py-10 w-full"},dt=["src"],ft=["innerHTML"],P=I({props:{manufacturer:null},setup(l){const a=l,t=j();let n=z(()=>t.state.manufacturers[a.manufacturer]||{additional_info:{images:[],text:""}});const r=E(!1);return(u,p)=>s(n).additional_info.images.length||s(n).additional_info.text?(o(),c("div",rt,[q(u.$slots,"default"),s(n).additional_info.images.length?(o(),c("div",ut,[(o(!0),c(k,null,$(s(n).additional_info.images,m=>(o(),c("div",{class:"image-continer py-3 px-2 hover:bg-sky-100",onClick:p[1]||(p[1]=v=>r.value=!0)},[e("img",{class:"float-left",src:m.thumbnail},null,8,it),(o(),y(de,{to:"body"},[r.value?(o(),c("div",{key:0,class:"fixed z-[100] top-0 w-screen h-screen flex bg-[rgb(0,0,0,0.6)]",onClick:p[0]||(p[0]=v=>r.value=!1)},[e("div",ct,[e("img",{class:"mx-auto z-[200]",src:m.image},null,8,dt)])])):S("",!0)])),e("div",null,C(m.text),1)]))),256))])):S("",!0),e("p",{class:"w-100 pt-2",innerHTML:s(n).additional_info.text},null,8,ft)])):S("",!0)}}),pt={class:""},_t={class:"min-h-screen px-4 text-center fixed lg:inset-0 z-40"},vt=e("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"},"\u200B",-1),xt={class:"overflow-y-auto overflow-x-hidden inline-block w-full fixed lg:relative top-0 left-0 lg:top-auto lg:left-auto h-screen lg:max-h-[90vh] lg:md:max-w-[45vw] lg:min-h-[70vh] p-6 text-left lg:align-middle transition-all transform bg-white shadow-xl lg:rounded-2xl"},ht={class:"flex flex-grow"},mt=e("button",{class:"h-full rounded-full focus:outline-none"},[e("svg",{class:"h-6 w-6 text-gray-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})])],-1),yt=[mt],bt={class:"dialog-body border-t border-slate-700"},X=I({props:{open:{type:Boolean}},emits:["setIsOpen"],setup(l,{emit:a}){const t=l;function n(r){a("setIsOpen",r)}return(r,u)=>(o(),y(s(ve),{appear:"",show:t.open,as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>[D(s(_e),{open:t.open,onClose:n},{default:g(()=>[e("div",pt,[e("div",_t,[D(s(K),{as:"template",enter:"duration-200 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-100 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>[D(s(fe),{class:"fixed inset-0 bg-black opacity-30"})]),_:1}),vt,D(s(K),{as:"template",enter:"duration-200 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-100 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:g(()=>[e("div",xt,[D(s(pe),{as:"h3",class:"text-2xl font-medium leading-6 mb-4 text-gray-900 flex flex-row gap-3 place-items-center"},{default:g(()=>[e("div",ht,[q(r.$slots,"title")]),e("div",{class:"flex align-middle",onClick:u[0]||(u[0]=p=>n(!1))},yt)]),_:3}),e("div",bt,[q(r.$slots,"body")])])]),_:3})])])]),_:3},8,["open"])]),_:3},8,["show"]))}}),gt={class:"flex flex-col xl:flex-row mx-auto h-full"},wt={class:"manufacturer-nav mb-2 xl:mb-0 sticky flex flex-col min-w-[250px] xl:h-screen top-0 overflow-y-auto border-slate-600 z-20"},kt={class:"gap-y-2 flex-col flex pt-[1px] bg-white xl:h-screen"},$t={class:"xl:hidden"},Ct={class:"nav flex flex-row gap-2 place-items-center border-b p-3 h-12 w-full"},Mt={class:"text-xl flex-grow text-left"},Et=e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),zt=[Et],Bt=e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})],-1),Dt=[Bt],It=oe("\u041F\u0440\u043E\u0438\u0437\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u0438"),At=e("p",{class:"text-2xl font-semibold mb-5"},"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",-1),Ft=oe("\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F"),St=e("svg",{class:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),jt=[St],Tt=I({setup(l){const a=xe(),t=he();let n=E(!1),r=E(!1),u=E("Avant");z({get(){return a.query.manufacturer||"Avant"},set(_){const i=Object.assign({},{manufacturer:_});t.push({query:i})}});const p=E({});function m(){console.log(p.value),p.value.stonesearch.focus()}const v=se("tailwind");return(_,i)=>(o(),c("div",gt,[e("div",wt,[e("div",kt,[e("div",$t,[e("div",Ct,[e("div",Mt,C(s(u)),1),e("div",{type:"button",class:"show-manufacturers rounded-full p-1",onClick:i[0]||(i[0]=f=>M(r)?r.value=!s(n):r=!s(n))},zt),e("div",{type:"button",id:"mobile-func-header",class:"show-manufacturers rounded-full p-1",onClick:i[1]||(i[1]=f=>M(n)?n.value=!s(n):n=!s(n))},Dt)])]),s(v).xl?(o(),y(Q,{key:0,tab:s(u),onUpdate:i[2]||(i[2]=f=>M(u)?u.value=f:u=f)},null,8,["tab"])):(o(),y(X,{key:1,open:s(n),onSetIsOpen:i[4]||(i[4]=f=>M(n)?n.value=f:n=f)},{title:g(()=>[It]),body:g(()=>[(o(),y(W,null,[(o(),y(Q,{tab:s(u),key:s(u),onUpdate:i[3]||(i[3]=f=>{M(u)?u.value=f:u=f,M(n)?n.value=!1:n=!1})},null,8,["tab"]))],1024))]),_:1},8,["open"]))])]),(o(),y(nt,{ref_key:"table_c",ref:p,manufacturer:s(u),key:s(u)},null,8,["manufacturer"])),s(v).xl?(o(),y(P,{class:"info flex-col flex-grow sticky top-0 right-0 flex w-fit xl:h-screen overflow-y-auto",manufacturer:s(u),key:s(u)},{default:g(()=>[At]),_:1},8,["manufacturer"])):(o(),y(X,{key:1,open:s(r),onSetIsOpen:i[5]||(i[5]=f=>M(r)?r.value=f:r=f)},{title:g(()=>[Ft]),body:g(()=>[(o(),y(W,null,[(o(),y(P,{class:"info flex-col flex-grow w-fit",manufacturer:s(u),key:s(u)},null,8,["manufacturer"]))],1024))]),_:1},8,["open"])),e("a",{href:"#top",class:"xl:hidden fixed bottom-7 right-3 p-3 bg-blue-500 rounded-full",onClick:i[6]||(i[6]=()=>m())},jt)]))}}),Lt=[{path:"/",name:"Home",component:Tt}],Ot=me({history:ye("/pricelist/quartz/"),routes:Lt});var qt=be({state:{manufacturers:[]},mutations:{setManufacturers(l,a){l.manufacturers=Object.assign({},...a.map(t=>({[t.name]:t})))},addManufacturers(l,a){a.forEach(t=>{l.manufacturers[t.name]=O(O({},l.manufacturers[t.name]),t)})}},actions:{async hydrate({commit:l,dispatch:a}){V.post("manufacturers/").then(t=>(l("setManufacturers",t.data),t.data)).then(t=>t.forEach(n=>a("loadManufacturer",n.name)))},async loadManufacturer({state:l,commit:a},t){Array.isArray(t)||(t=[t]),t=t.filter(n=>!l.manufacturers[n].stones.length),t.length&&V.post("manufacturer/",{manufacturers:t}).then(n=>{a("addManufacturers",n.data)})}},getters:{isDesktop(){return window.matchMedia("(min-width: 1024px)").matches}}});const Vt=I({setup(l){const a=j();return le(async()=>{a.dispatch("hydrate")}),(t,n)=>{const r=ge("router-view");return o(),y(r)}}});const T=we(Vt);T.use(ke,V);T.use(Ot);T.use(qt);T.mount("#app");
