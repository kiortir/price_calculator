(function(t){function e(e){for(var a,o,s=e[0],l=e[1],u=e[2],i=0,b=[];i<s.length;i++)o=s[i],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(b.length)b.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==c[l]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},c={app:0},r=[];function o(t){return s.p+"js/"+({}[t]||t)+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=c[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=c[t]=[e,a]}));e.push(n[2]=a);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=o(t);var u=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(i);var n=c[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",u.name="ChunkLoadError",u.type=a,u.request=r,n[1](u)}c[t]=void 0}};var i=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/static/src/vue/dist/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var i=0;i<l.length;i++)e(l[i]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},4003:function(t,e,n){"use strict";n("98f3")},"40b5":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"materialPrice",(function(){return Mo})),n.d(a,"wallpanel_length",(function(){return Do})),n.d(a,"ladder",(function(){return Ao})),n.d(a,"border",(function(){return zo})),n.d(a,"edge",(function(){return Uo})),n.d(a,"sink",(function(){return Jo})),n.d(a,"socket",(function(){return Wo})),n.d(a,"surface_docking",(function(){return Bo})),n.d(a,"cutout",(function(){return Eo})),n.d(a,"cookpanel",(function(){return Vo})),n.d(a,"mounting",(function(){return Fo})),n.d(a,"delivery",(function(){return Ho})),n.d(a,"lifting",(function(){return Go})),n.d(a,"measurement",(function(){return Xo})),n.d(a,"addon",(function(){return Ko}));n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("ac1f"),n("1276"),n("498a"),n("a9e3");var c=n("f2bf"),r=(n("b0c0"),{class:"row mx-0"}),o={class:"col-lg-7 gx-2 mb-5"},s={class:"infocard"},l={class:"sticky-top mb-4 bg-white border-top border-bottom"},u={class:"nav nav-pills nav-fill py-3"},i=["id","onClick","innerHTML"],d={class:"tab-content",id:"mainContent"},b=["id"],p={class:"offcanvas offcanvas-bottom h-100 border-0",tabindex:"-1",id:"offcanvas-result"},m=Object(c["g"])("div",{class:"offcanvas-header"},[Object(c["g"])("h5",{class:"offcanvas-title"},"Итог"),Object(c["g"])("button",{type:"button",class:"btn btn-primary"},"Создать КП")],-1),f={class:"offcanvas-body container"},g={class:"infocard"},O=Object(c["g"])("div",{class:"position-absolute bottom-0 start-50 translate-middle-x py-3 container bg-white border-top"},[Object(c["g"])("button",{type:"button",class:"btn btn-danger w-100","data-bs-dismiss":"offcanvas","aria-label":"Close"}," Закрыть ")],-1),j={class:"col-5 d-none d-lg-block sticky-top"},v={class:"mb-3 row g-2"},h=["value"],y={class:"card mb-2"},x={class:"card-header bg-card-even row gx-0"},w=Object(c["g"])("ul",{class:"nav nav-tabs card-header-tabs col"},[Object(c["g"])("li",{class:"nav-item"},[Object(c["g"])("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," Итог ")]),Object(c["g"])("li",{class:"nav-item"},[Object(c["g"])("button",{class:"nav-link",id:"salary-tab","data-bs-toggle":"tab","data-bs-target":"#salary",type:"button",role:"tab","aria-controls":"salary","aria-selected":"false"}," Затраты ")])],-1),k={class:"col-3"},I={class:"card-body px-0"},C={class:"tab-content pb-4 overflow-auto result-block"},_={class:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},S={class:"tab-pane fade",id:"salary",role:"tabpanel"},L={class:"fixed-bottom container d-block d-lg-none bg-white border-top pb-2"},P={class:"row py-3"},$={class:"col"},T={key:0,class:"col"};function N(t,e,n,a,N,q){var R=Object(c["q"])("result"),M=Object(c["q"])("salary");return Object(c["l"])(),Object(c["f"])(c["a"],null,[Object(c["g"])("div",r,[Object(c["g"])("div",o,[Object(c["g"])("div",s,[Object(c["g"])("div",l,[Object(c["g"])("ul",u,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(N.tabs,(function(t){return Object(c["l"])(),Object(c["f"])("li",{class:"nav-item",key:t.component},[Object(c["g"])("button",{class:Object(c["k"])(["nav-link category-toggle",{active:t.component==N.chosenTab}]),type:"button",id:"head-".concat(t.component),onClick:function(e){return q.switchTab(t.component)},innerHTML:t.name},null,10,i)])})),128))])]),Object(c["g"])("div",d,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(N.tabs,(function(t){return Object(c["l"])(),Object(c["f"])("div",{class:Object(c["k"])(["tab-pane fade px-2 p-lg-0",{active:t.component==N.chosenTab,show:t.component==N.chosenTab}]),id:t.component,key:t.component},[(Object(c["l"])(),Object(c["d"])(Object(c["s"])(t.component),{key:t.component,onFocusCard:q.focusCard},null,8,["onFocusCard"]))],10,b)})),128))]),Object(c["g"])("div",p,[m,Object(c["g"])("div",f,[Object(c["g"])("div",g,[Object(c["i"])(R,{class:"mb-5"}),O])])])])]),Object(c["g"])("div",j,[Object(c["g"])("div",v,[Object(c["g"])("select",{class:"form-select form-select-lg",onChange:e[0]||(e[0]=function(e){return t.$store.dispatch("changeTemplate",e.target.value)})},[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(N.templates,(function(t){return Object(c["l"])(),Object(c["f"])("option",{key:t.id,value:t.id},Object(c["t"])(t.name),9,h)})),128))],32),Object(c["g"])("button",{class:"btn btn-primary w-100 col-12",onClick:e[1]||(e[1]=function(e){return t.$store.dispatch("saveTemplate")})}," Сохранить как шаблон ")]),Object(c["g"])("div",y,[Object(c["g"])("div",x,[w,Object(c["g"])("div",k,[Object(c["g"])("button",{class:"btn btn-primary p-0 w-100",onClick:e[2]||(e[2]=function(){return q.downloadWithCSS&&q.downloadWithCSS.apply(q,arguments)})}," Сохранить ")])]),Object(c["g"])("div",I,[Object(c["g"])("div",C,[Object(c["g"])("div",_,[Object(c["i"])(R,{ref:"resultComponent"},null,512)]),Object(c["g"])("div",S,[Object(c["i"])(M)])])])])])]),Object(c["g"])("div",L,[Object(c["g"])("div",P,[Object(c["g"])("div",$,[Object(c["g"])("button",{class:"btn btn-primary w-100",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvas-result",onTouchstartPassive:e[3]||(e[3]=function(){return t.save&&t.save.apply(t,arguments)})}," Итог ",32)]),"logistics"!=N.chosenTab?(Object(c["l"])(),Object(c["f"])("div",T,[Object(c["g"])("button",{class:"btn btn-primary w-100",type:"button",onClick:e[4]||(e[4]=function(){return q.addCard&&q.addCard.apply(q,arguments)})}," + ")])):Object(c["e"])("",!0)])])],64)}var q=n("1da1"),R=n("5530"),M=(n("99af"),n("96cf"),n("5502")),D={class:"button-row row justify-content-center mt-3 d-none d-lg-block"},A={class:"w-50 mx-auto"};function z(t,e,n,a,r,o){var s=Object(c["q"])("material-card");return Object(c["l"])(),Object(c["f"])("div",null,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(o.cards,(function(e,n){return Object(c["l"])(),Object(c["d"])(s,{class:"material-block",card_index:n,key:n,id:"material-card-"+n,onRemove:function(e){return t.removeMaterialCard(n)}},null,8,["card_index","id","onRemove"])})),128)),Object(c["g"])("div",D,[Object(c["g"])("div",A,[Object(c["g"])("button",{type:"button",class:"btn btn-primary w-100",onClick:e[0]||(e[0]=function(){return t.addMaterialCard&&t.addMaterialCard.apply(t,arguments)})}," + ")])])])}n("d3b7"),n("ddb0");var U=function(t){return Object(c["n"])("data-v-921a8456"),t=t(),Object(c["m"])(),t},J={class:"card-wrapper"},W={class:"material card-body row g-3"},B={class:"col-12 col-sm-11 container"},E={class:"row row-cols-2 g-2"},V={class:"col-12 form-floating"},F=["id","value"],H=["for"],G={class:"col-12 col-sm-8 form-floating"},X=["id","value"],K=["for"],Q={class:"col-12 col-sm-4 form-floating"},Y=["id","value"],Z=["for"],tt={class:"col-12 col-sm-1 d-none d-lg-block"},et={class:"hidden-delete m-0"},nt=U((function(){return Object(c["g"])("span",{class:"vericaltext mx-auto"}," У д а л и т ь",-1)})),at=[nt];function ct(t,e,n,a,r,o){var s=Object(c["r"])("touch");return Object(c["z"])((Object(c["l"])(),Object(c["f"])("div",J,[Object(c["g"])("div",{class:Object(c["k"])(["material-card card mt-5 mt-md-3",o.group]),ref:"mcard"+n.card_index},[Object(c["g"])("div",W,[Object(c["g"])("div",B,[Object(c["g"])("div",E,[Object(c["g"])("div",V,[Object(c["g"])("input",{id:"materialname-"+n.card_index,value:o.data.materialName,onInput:e[0]||(e[0]=function(e){return t.updateMaterialName({index:n.card_index,value:e.target.value})}),type:"text",class:"form-control border-info",placeholder:"название материала"},null,40,F),Object(c["g"])("label",{for:"materialname-"+n.card_index},"название материала",8,H)]),Object(c["g"])("div",G,[Object(c["g"])("input",{id:"materialprice-"+n.card_index,value:o.data.materialPrice,onInput:e[1]||(e[1]=function(e){return t.updateMaterialField({index:n.card_index,value:e.target.value,field:"materialPrice"})}),type:"number",class:"form-control",placeholder:"цена слэба"},null,40,X),Object(c["g"])("label",{for:"materialprice-"+n.card_index},"цена слэба",8,K)]),Object(c["g"])("div",Q,[Object(c["g"])("input",{id:"material-count-"+n.card_index,value:o.data.materialCount,onInput:e[2]||(e[2]=function(e){return t.updateMaterialField({index:n.card_index,value:e.target.value,field:"materialCount"})}),type:"number",class:"form-control",placeholder:"число слэбов"},null,40,Y),Object(c["g"])("label",{for:"material-count-"+n.card_index},"число слэбов",8,Z)])])]),Object(c["g"])("div",tt,[Object(c["g"])("button",{type:"button",class:"btn btn-danger h-100 w-100 py-0 px-md-0",onClick:e[3]||(e[3]=function(e){return t.$emit("remove")})}," - ")])])],2),Object(c["g"])("div",et,[Object(c["g"])("button",{type:"button",class:"btn btn-danger hidden-delete-button w-100 h-100 p-0 my-auto",onClick:e[4]||(e[4]=function(e){return t.$emit("remove")})},at)])],512)),[[s,o.showDel,"swipe",{right:!0}],[s,o.showDel,"swipe",{left:!0}]])}n("fb6a");var rt={name:"MaterialCard",props:{card_index:Number},emits:["remove"],data:function(){return{pulled:null}},computed:{data:function(){return this.$store.state.values.material_cards[this.card_index]},group:function(){var t,e=null!=this.data.materialName&&""!=this.data.materialName?this.data.materialName.slice(0,1).charCodeAt(0):0;return e>1e3&&(e-=985),e-=65,-65==e?t=0:e<10?t=1:e<20?t=2:e<32&&(t=3),"group-".concat(t)}},methods:Object(R["a"])(Object(R["a"])({},Object(M["d"])(["updateMaterialName","updateMaterialField"])),{},{showDel:function(t){null==this.pulled&&"right"!=t?(this.pulled=!0,this.$refs["mcard"+this.card_index].classList.toggle("pulled")):this.pulled||"right"==t?this.pulled&&"right"==t&&(this.pulled=!1,this.$refs["mcard"+this.card_index].classList.toggle("pulled"),this.$refs["mcard"+this.card_index].classList.toggle("slideback")):(this.pulled=!0,this.$refs["mcard"+this.card_index].classList.toggle("pulled"),this.$refs["mcard"+this.card_index].classList.toggle("slideback")),console.log(this.pulled)}})},ot=(n("8843"),n("6b0d")),st=n.n(ot);const lt=st()(rt,[["render",ct],["__scopeId","data-v-921a8456"]]);var ut=lt,it={name:"Material",computed:{cards:function(){return this.$store.state.values.material_cards}},methods:Object(R["a"])({},Object(M["d"])(["addMaterialCard","removeMaterialCard"])),components:{MaterialCard:ut}};const dt=st()(it,[["render",z]]);var bt=dt,pt={class:"button-row row justify-content-center mt-3 d-none d-lg-block"},mt={class:"w-50 mx-auto"};function ft(t,e,n,a,r,o){var s=Object(c["q"])("product-card");return Object(c["l"])(),Object(c["f"])(c["a"],null,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(o.cards,(function(e,n){return Object(c["l"])(),Object(c["d"])(s,{class:"product-card",key:n,cardIndex:n,id:"product-card-"+n,onRemove:function(e){return t.removeProductCard(n)}},null,8,["cardIndex","id","onRemove"])})),128)),Object(c["g"])("div",pt,[Object(c["g"])("div",mt,[Object(c["g"])("button",{type:"button",class:"btn btn-primary w-100",onClick:e[0]||(e[0]=function(){return o.newCard&&o.newCard.apply(o,arguments)})}," + ")])])],64)}n("b64b"),n("25f0");var gt=function(t){return Object(c["n"])("data-v-96bacd72"),t=t(),Object(c["m"])(),t},Ot={class:"card-wrapper"},jt={class:"option-head row g-1"},vt=gt((function(){return Object(c["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[Object(c["g"])("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),Object(c["g"])("path",{"fill-rule":"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})],-1)})),ht=[vt],yt={class:"productCard col"},xt=["value"],wt=gt((function(){return Object(c["g"])("option",{disabled:"",value:""},"Тип изделия",-1)})),kt={class:"col-2 align-self-end h-100 d-none d-md-block"},It={class:"option-container row-cols-1 row gx-3 gy-2"},Ct={class:"row mt-4 g-1 col-12"},_t={class:"col-10"},St=gt((function(){return Object(c["g"])("option",{value:"null",disabled:""},"Выберите опцию",-1)})),Lt={class:"col-2"},Pt={key:1,class:"back card-body"},$t={class:"hidden-delete m-0"},Tt=gt((function(){return Object(c["g"])("span",{class:"vericaltext mx-auto"}," У д а л и т ь",-1)})),Nt=[Tt];function qt(t,e,n,a,r,o){var s=Object(c["q"])("installation"),l=Object(c["q"])("low-priority"),u=Object(c["r"])("touch");return Object(c["z"])((Object(c["l"])(),Object(c["f"])("div",Ot,[Object(c["g"])("div",{class:Object(c["k"])(["card mt-md-3 mt-5",o.type]),ref:"card"+n.cardIndex},[Object(c["g"])("div",{class:Object(c["k"])(["card-header",{"border-bottom-0":""==o.productCard.chosenType}])},[Object(c["g"])("div",jt,[Object(c["g"])("button",{type:"button",class:"btn btn-outline-secondary btn-lg col-2 col-lg-1 p-0 d-none d-md-block",onClick:e[0]||(e[0]=function(){return o.flip&&o.flip.apply(o,arguments)})},ht),Object(c["g"])("div",yt,[Object(c["g"])("select",{class:"form-select form-select-lg",value:o.productCard.chosenType,onChange:e[1]||(e[1]=function(e){return t.updateCardOptions({cardIndex:n.cardIndex,choice:e.target.value})})},[wt,(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(Object.keys(r.PRODUCTS),(function(t){return Object(c["l"])(),Object(c["f"])("option",{key:t},Object(c["t"])(t),1)})),128))],40,xt)]),Object(c["g"])("div",kt,[Object(c["g"])("button",{type:"button",class:"btn btn-danger w-100 btn-lg px-0",onClick:e[2]||(e[2]=function(e){return t.$emit("remove")})}," - ")])])],2),Object(c["i"])(c["b"],{name:"fade",mode:"out-in"},{default:Object(c["y"])((function(){return[r.flipped?(Object(c["l"])(),Object(c["f"])("div",Pt,[Object(c["i"])(l,{cardIndex:n.cardIndex},null,8,["cardIndex"])])):(Object(c["l"])(),Object(c["f"])("div",{key:0,class:Object(c["k"])(["product card-body front",{"d-none":""==o.productCard.chosenType}])},[Object(c["i"])(s,{cardIndex:n.cardIndex},null,8,["cardIndex"]),Object(c["g"])("div",It,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(o.productCard.option_card,(function(e,a){return Object(c["l"])(),Object(c["f"])("div",{class:"col col-card",key:a+n.cardIndex},[(Object(c["l"])(),Object(c["d"])(Object(c["s"])(e.component_type),{class:"h-100 o-card",key:a+n.cardIndex.toString(),cardIndex:n.cardIndex,optionIndex:a,onRefresh:o.updateOption,onRemoveoption:function(e){return t.removeCardOption({optionIndex:a,cardIndex:n.cardIndex})}},null,8,["cardIndex","optionIndex","onRefresh","onRemoveoption"]))])})),128))]),Object(c["g"])("div",Ct,[Object(c["g"])("div",_t,[Object(c["z"])(Object(c["g"])("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=function(t){return r.selectedAddOn=t})},[St,(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(r.options,(function(t){return Object(c["l"])(),Object(c["f"])("option",{key:t},Object(c["t"])(t),1)})),128))],512),[[c["w"],r.selectedAddOn]])]),Object(c["g"])("div",Lt,[Object(c["g"])("button",{onClick:e[4]||(e[4]=function(e){return t.addCardOption({choice:r.selectedAddOn,cardIndex:n.cardIndex})}),class:"btn btn-primary w-100 h-100 p-0"}," + ")])])],2))]})),_:1})],2),Object(c["g"])("div",$t,[Object(c["g"])("button",{type:"button",class:"btn btn-danger hidden-delete-button w-100 h-100 p-0 my-auto",onClick:e[5]||(e[5]=function(e){return t.$emit("remove")})},Nt)])],512)),[[u,o.flip,"swipe",{right:!0}],[u,o.showDel,"swipe",{left:!0}]])}n("4de4");var Rt={"Кромка":{component:"edge",type:"primary",data:{width:"",length:null,type:"",angle:""}},"Мойка":{component:"sink",type:"primary",data:{quantity:null,type:""}},"Бортик":{component:"border",type:"primary",data:{type:"Простой",length:null}},"Вырез под розетку":{component:"socket",type:"primary",data:{quantity:null}},"Варочная панель":{component:"cookpanel",type:"primary",data:{quantity:null,type:""}},"Данные ступеней":{component:"ladder",type:"secondary",data:{edgeType:"",stepLength:null,underStepLength:null}},"Длина стеновой панели":{component:"wallpanel-length",type:"secondary",data:{length:null}},"Стыковка плоскости":{component:"surface-docking",type:"primary",data:{type:"",quantity:null}},"Отверстия D⌀ <= 35мм":{component:"cutout",type:"primary",data:{quantity:null}}},Mt={"Столешница":{defaultOptions:[Rt.Кромка,Rt.Бортик,Rt["Вырез под розетку"]]},"Барная стойка":{defaultOptions:[Rt.Кромка,Rt.Бортик,Rt["Варочная панель"]]},"Подоконник":{defaultOptions:[Rt.Кромка]},"Стеновая панель":{defaultOptions:[Rt["Длина стеновой панели"]]},"Ступени":{defaultOptions:[Rt["Данные ступеней"]]}},Dt=[{name:"Радиусный угол > 12",count:null,measurement:"шт."},{name:"Другие отверстия",count:null,measurement:"шт."},{name:"Обход пиластры",count:null,measurement:"шт."},{name:"Конвекция",type:{selectors:["вровень","фрезеровка"],selected:""},count:null,measurement:"шт."},{name:"Лучи под сток воды",count:null,measurement:"шт."},{name:"Капельник",count:null,measurement:"шт."},{name:"Монтаж хром опоры заказчика",count:null,measurement:"шт."},{name:"Стыковка опорной ноги из камня под 45",count:null,measurement:"шт."},{name:"Шлифовка подворота камня",type:{selectors:["до 150 мм","более 150мм"],selected:""},count:null,measurement:"шт./м2"},{name:"Подворот из камня",count:null,measurement:"шт."},{name:"Демонтаж старых изделий (до 6 п.м.)",isChecked:!1}],At={class:"card"},zt={class:"card-header container mx-0 bg-transparent"},Ut={class:"row g-0"},Jt=Object(c["g"])("div",{class:"col-10 h-100 my-auto"},"Кромка",-1),Wt={class:"col-2"},Bt={class:"card-body"},Et={class:"side-info row row-cols-1 row-cols-md-2 g-2"},Vt={class:"col"},Ft=["value"],Ht=Object(c["g"])("option",{value:"",disabled:""},"Тип кромки",-1),Gt=Object(c["g"])("option",null,"№1",-1),Xt=Object(c["g"])("option",null,"№2",-1),Kt=Object(c["g"])("option",null,"№3",-1),Qt=Object(c["g"])("option",null,"№4",-1),Yt=Object(c["g"])("option",null,"№6",-1),Zt=Object(c["g"])("option",null,"№7",-1),te=Object(c["g"])("option",null,"Утиный нос",-1),ee=Object(c["g"])("option",null,"Фигурная",-1),ne=[Ht,Gt,Xt,Kt,Qt,Yt,Zt,te,ee],ae={class:"col"},ce=["value"],re=Object(c["g"])("option",{value:"",disabled:""},"Толщина кромки",-1),oe=Object(c["g"])("option",null,"20 мм",-1),se=Object(c["g"])("option",null,"30 мм",-1),le=Object(c["g"])("option",null,"40 мм",-1),ue=Object(c["g"])("option",null,"Другая",-1),ie=[re,oe,se,le,ue],de={class:"col"},be=["value"],pe=Object(c["g"])("option",{value:"",disabled:""},"Угол склейки",-1),me=Object(c["g"])("option",{value:"45"},"45°",-1),fe=Object(c["g"])("option",{value:"90"},"90°",-1),ge=[pe,me,fe],Oe={class:"col"},je=["value"];function ve(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",At,[Object(c["g"])("div",zt,[Object(c["g"])("div",Ut,[Jt,Object(c["g"])("div",Wt,[Object(c["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(c["g"])("div",Bt,[Object(c["g"])("div",Et,[Object(c["g"])("div",Vt,[Object(c["g"])("select",{class:"form-select form-select-sm",value:o.data.type,onChange:e[1]||(e[1]=function(t){return o.update("type",t.target.value)})},ne,40,Ft)]),Object(c["g"])("div",ae,[Object(c["g"])("select",{class:"form-select form-select-sm",value:o.data.width,onChange:e[2]||(e[2]=function(t){return o.update("width",t.target.value)})},ie,40,ce)]),Object(c["g"])("div",de,[Object(c["g"])("select",{class:"form-select form-select-sm",value:o.data.angle,onChange:e[3]||(e[3]=function(t){return o.update("angle",t.target.value)})},ge,40,be)]),Object(c["g"])("div",Oe,[Object(c["g"])("input",{class:"form-control form-control-sm",placeholder:"п.м. кромки",type:"number",value:o.data.length,onInput:e[4]||(e[4]=function(t){return o.update("length",t.target.value)})},null,40,je)])])])])}var he={emits:["removeoption","refresh"],name:"edge",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const ye=st()(he,[["render",ve]]);var xe=ye,we={class:"card"},ke={class:"card-header bg-transparent"},Ie={class:"row g-0"},Ce=Object(c["g"])("div",{class:"col-10 h-100 my-auto"},"Мойка",-1),_e={class:"col-2"},Se={class:"card-body row"},Le={class:"col-12 col-xl-8 m-xl-auto mb-1"},Pe=["value"],$e=Object(c["g"])("option",{disabled:"",value:""},"Тип мойки",-1),Te=Object(c["g"])("option",null,"Накладная",-1),Ne=Object(c["g"])("option",null,"Поджимная",-1),qe=Object(c["g"])("option",null,"Интегрированная",-1),Re=Object(c["g"])("option",null,"Интегрированная 45°",-1),Me=Object(c["g"])("option",null,"Вровень",-1),De=[$e,Te,Ne,qe,Re,Me],Ae={class:"sink-quantity col-12 col-xl-4 m-xl-auto mb-1"},ze=["value"];function Ue(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",we,[Object(c["g"])("div",ke,[Object(c["g"])("div",Ie,[Ce,Object(c["g"])("div",_e,[Object(c["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(c["g"])("div",Se,[Object(c["g"])("div",Le,[Object(c["g"])("select",{class:"form-select",value:o.data.type,onChange:e[1]||(e[1]=function(t){return o.update("type",t.target.value)})},De,40,Pe)]),Object(c["g"])("div",Ae,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"шт.",value:o.data.quantity,onInput:e[2]||(e[2]=function(t){return o.update("quantity",t.target.value)})},null,40,ze)])])])}var Je={emits:["removeoption","refresh"],name:"sink",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const We=st()(Je,[["render",Ue]]);var Be=We,Ee={class:"card"},Ve={class:"card-header bg-transparent"},Fe={class:"row g-0"},He=Object(c["g"])("div",{class:"col-10 h-100 my-auto"},"Вырез под розетку",-1),Ge={class:"col-2"},Xe={class:"card-body"},Ke={class:"col m-xl-auto my-auto"},Qe=["value"];function Ye(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",Ee,[Object(c["g"])("div",Ve,[Object(c["g"])("div",Fe,[He,Object(c["g"])("div",Ge,[Object(c["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(c["g"])("div",Xe,[Object(c["g"])("div",Ke,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"шт.",value:o.data.quantity,onInput:e[1]||(e[1]=function(t){return o.update("quantity",t.target.value)})},null,40,Qe)])])])}var Ze={emits:["removeoption","refresh"],name:"socket",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const tn=st()(Ze,[["render",Ye]]);var en=tn,nn={class:"card"},an={class:"card-header bg-transparent"},cn={class:"row g-0"},rn=Object(c["g"])("div",{class:"col-10 h-100 my-auto"},"Варочная панель",-1),on={class:"col-2"},sn={class:"card-body row"},ln={class:"col-12 col-xl-8 m-xl-auto mb-1"},un=["value"],dn=Object(c["g"])("option",{disabled:"",value:""},"Тип варки",-1),bn=Object(c["g"])("option",null,"Накладная",-1),pn=Object(c["g"])("option",null,"Интегрированная",-1),mn=[dn,bn,pn],fn={class:"col-12 col-xl-4 m-xl-auto mb-1"},gn=["value"];function On(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",nn,[Object(c["g"])("div",an,[Object(c["g"])("div",cn,[rn,Object(c["g"])("div",on,[Object(c["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(c["g"])("div",sn,[Object(c["g"])("div",ln,[Object(c["g"])("select",{class:"form-select",value:o.data.type,onChange:e[1]||(e[1]=function(t){return o.update("type",t.target.value)})},mn,40,un)]),Object(c["g"])("div",fn,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"шт.",value:o.data.quantity,onInput:e[2]||(e[2]=function(t){return o.update("quantity",t.target.value)})},null,40,gn)])])])}var jn={emits:["removeoption","refresh"],name:"cook-panel",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const vn=st()(jn,[["render",On]]);var hn=vn,yn={class:"card"},xn={class:"card-header bg-transparent"},wn={class:"row g-0"},kn=Object(c["g"])("div",{class:"col-10 h-100 my-auto"},"Бортик",-1),In={class:"col-2"},Cn={class:"card-body row"},_n={class:"col m-xl-auto"},Sn={class:"form-check"},Ln=["name","id"],Pn=["for"],$n={class:"form-check"},Tn=["name","id"],Nn=["for"],qn={class:"col m-xl-auto my-auto"},Rn=["value"];function Mn(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",yn,[Object(c["g"])("div",xn,[Object(c["g"])("div",wn,[kn,Object(c["g"])("div",In,[Object(c["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(c["g"])("div",Cn,[Object(c["g"])("div",_n,[Object(c["g"])("div",Sn,[Object(c["z"])(Object(c["g"])("input",{class:"form-check-input",type:"radio",value:"Простой",name:n.cardIndex+"borderRadio1"+n.optionIndex,id:n.cardIndex+"borderRadio1"+n.optionIndex,"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.type=t})},null,8,Ln),[[c["v"],o.type]]),Object(c["g"])("label",{class:"form-check-label",for:n.cardIndex+"borderRadio1"+n.optionIndex}," Простой ",8,Pn)]),Object(c["g"])("div",$n,[Object(c["z"])(Object(c["g"])("input",{class:"form-check-input",type:"radio",value:"Калиброванный",name:n.cardIndex+"borderRadio2"+n.optionIndex,id:n.cardIndex+"borderRadio2"+n.optionIndex,"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.type=t})},null,8,Tn),[[c["v"],o.type]]),Object(c["g"])("label",{class:"form-check-label",for:n.cardIndex+"borderRadio2"+n.optionIndex}," Калиброванный ",8,Nn)])]),Object(c["g"])("div",qn,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"п.м.",value:o.data.length,onInput:e[3]||(e[3]=function(t){return o.update("length",t.target.value)})},null,40,Rn)])])])}var Dn={emits:["removeoption","refresh"],name:"border",props:{cardIndex:Number,optionIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data},type:{get:function(){return this.data.type},set:function(t){this.update("type",t)}}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const An=st()(Dn,[["render",Mn]]);var zn=An,Un={class:"card"},Jn={class:"card-header bg-transparent"},Wn={class:"row g-0"},Bn=Object(c["g"])("div",{class:"col-10 h-100 my-auto"},"Данные ступеней",-1),En={class:"col-2"},Vn={class:"card-body row g-1"},Fn=["value"],Hn=Object(c["g"])("option",{value:""},"тип фаски",-1),Gn=Object(c["g"])("option",null,"Верх",-1),Xn=Object(c["g"])("option",null,"Верх и низ",-1),Kn=[Hn,Gn,Xn],Qn=["value"],Yn=["value"];function Zn(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",Un,[Object(c["g"])("div",Jn,[Object(c["g"])("div",Wn,[Bn,Object(c["g"])("div",En,[Object(c["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(c["g"])("div",Vn,[Object(c["g"])("select",{class:"form-select",value:o.data.edgeType,onChange:e[1]||(e[1]=function(t){return o.update("edgeType",t.target.value)})},Kn,40,Fn),Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"длина ступеней, п.м.",value:o.data.stepLength,onInput:e[2]||(e[2]=function(t){return o.update("stepLength",t.target.value)})},null,40,Qn),Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"длина подступков, п.м.",value:o.data.underStepLength,onInput:e[3]||(e[3]=function(t){return o.update("underStepLength",t.target.value)})},null,40,Yn)])])}var ta={emits:["removeoption","refresh"],name:"ladder",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const ea=st()(ta,[["render",Zn]]);var na=ea,aa={class:"card"},ca={class:"card-header bg-transparent"},ra={class:"row g-0"},oa=Object(c["g"])("div",{class:"col-10 h-100 my-auto"},"Отверстия D⌀ <= 35мм",-1),sa=Object(c["h"])(),la={class:"col-2"},ua={class:"card-body row"},ia={class:"col m-xl-auto my-auto"},da=["value"];function ba(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",aa,[Object(c["g"])("div",ca,[Object(c["g"])("div",ra,[oa,sa,Object(c["g"])("div",la,[Object(c["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(c["g"])("div",ua,[Object(c["g"])("div",ia,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"шт.",value:o.data.quantity,onInput:e[1]||(e[1]=function(t){return o.update("quantity",t.target.value)})},null,40,da)])])])}var pa={emits:["removeoption","refresh"],name:"cutout",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const ma=st()(pa,[["render",ba]]);var fa=ma,ga={class:"card"},Oa={class:"card-header bg-transparent"},ja={class:"row g-0"},va=Object(c["g"])("div",{class:"col-10 h-100 my-auto"},"Длина стеновой панели",-1),ha={class:"col-2"},ya={class:"card-body g-1"},xa=["value"];function wa(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",ga,[Object(c["g"])("div",Oa,[Object(c["g"])("div",ja,[va,Object(c["g"])("div",ha,[Object(c["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(c["g"])("div",ya,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"длина панели, п.м.",value:o.data.length,onInput:e[1]||(e[1]=function(t){return o.update("length",t.target.value)})},null,40,xa)])])}var ka={emits:["removeoption","refresh"],name:"wallpanel-length",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$store.commit("updateInstallationLength",{cardIndex:this.cardIndex,value:e}),this.$emit("refresh",this.optionIndex,t,e)}}};const Ia=st()(ka,[["render",wa]]);var Ca=Ia,_a={class:"card"},Sa={class:"card-header bg-transparent"},La={class:"row g-0"},Pa=Object(c["g"])("div",{class:"col-10 h-100 my-auto"},"Стыковка плоскости",-1),$a={class:"col-2"},Ta={class:"card-body row g-1"},Na=["value"],qa=Object(c["g"])("option",{disabled:"",value:""},"Тип стыковки",-1),Ra=Object(c["g"])("option",null,"Прямая",-1),Ma=Object(c["g"])("option",null,"Косая",-1),Da=[qa,Ra,Ma],Aa=["value"];function za(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",_a,[Object(c["g"])("div",Sa,[Object(c["g"])("div",La,[Pa,Object(c["g"])("div",$a,[Object(c["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(c["g"])("div",Ta,[Object(c["g"])("select",{class:"form-select",value:o.data.type,onChange:e[1]||(e[1]=function(t){return o.update("type",t.target.value)})},Da,40,Na),Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"количество склеек, шт..",value:o.data.quantity,onInput:e[2]||(e[2]=function(t){return o.update("quantity",t.target.value)})},null,40,Aa)])])}var Ua={emits:["removeoption","refresh"],name:"surface-docking",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const Ja=st()(Ua,[["render",za]]);var Wa=Ja,Ba={class:"input-group my-2 col-12"},Ea={class:"input-group-text bg-white"},Va=["id"],Fa=["for"],Ha=["value"];function Ga(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",Ba,[Object(c["g"])("div",Ea,[Object(c["z"])(Object(c["g"])("input",{class:"form-check-input mt-0",type:"checkbox",id:"checkbox_installation"+n.cardIndex,"onUpdate:modelValue":e[0]||(e[0]=function(t){return o.checkBox=t})},null,8,Va),[[c["u"],o.checkBox]]),Object(c["g"])("label",{class:"form-check-label mx-1 my-auto",for:"checkbox_installation"+n.cardIndex}," Монтаж изделия, п.м. ",8,Fa)]),Object(c["g"])("input",{type:"number",class:"form-control",value:o.data.length,ref:"installation_field_"+n.cardIndex,onInput:e[1]||(e[1]=function(t){return o.setLength(t.target.value)})},null,40,Ha)])}var Xa={emits:["refresh"],name:"installation",props:{cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].installation},checkBox:{get:function(){return this.data.status},set:function(t){t&&!this.data.length&&this.$refs["installation_field_"+this.cardIndex].focus(),this.setCheckbox(t)}}},methods:{setLength:function(t){this.checkBox||this.setCheckbox(!0),t||this.setCheckbox(!1),this.$store.commit("updateInstallationLength",{cardIndex:this.cardIndex,value:t})},setCheckbox:function(t){this.$store.commit("updateInstallationStatus",{cardIndex:this.cardIndex,value:t})}}};const Ka=st()(Xa,[["render",Ga]]);var Qa=Ka,Ya={class:"list-group backlist px-0"},Za={class:"row g-2"},tc={key:0,class:"col-1 form-check"},ec=["value","id","onChange"],nc=["for"],ac={key:1,class:"col"},cc=["placeholder","value","onInput"],rc={key:2,class:"col-12"},oc=["value","onChange"],sc=Object(c["g"])("option",{value:""},"тип",-1);function lc(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("ul",Ya,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(o.data,(function(e,a){return Object(c["l"])(),Object(c["f"])("li",{key:e.name,class:"list-group-item"},[Object(c["g"])("div",Za,["undefined"!==typeof e.isChecked?(Object(c["l"])(),Object(c["f"])("div",tc,[Object(c["g"])("input",{class:"form-check-input",type:"checkbox",value:e.isChecked,id:"checkbox"+a,onChange:function(e){return t.updateAddonCheckbox({cardIndex:n.cardIndex,addonIndex:a})}},null,40,ec)])):Object(c["e"])("",!0),Object(c["g"])("label",{class:"col h6 form-check-label",for:"checkbox"+a},Object(c["t"])(e.name),9,nc),"undefined"!==typeof e.count?(Object(c["l"])(),Object(c["f"])("div",ac,[Object(c["g"])("input",{type:"number",class:"form-control form-control-sm",placeholder:e.measurement,value:e.count,onInput:function(e){return t.updateAddonInput({cardIndex:n.cardIndex,addonIndex:a,field:"count",value:e.target.value})}},null,40,cc)])):Object(c["e"])("",!0),"undefined"!==typeof e.type?(Object(c["l"])(),Object(c["f"])("div",rc,[Object(c["g"])("select",{class:"form-select form-select-sm",value:e.type.selected,onChange:function(e){return t.updateAddonSelector({cardIndex:n.cardIndex,addonIndex:a,field:"type",value:e.target.value})}},[sc,(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(e.type.selectors,(function(t){return Object(c["l"])(),Object(c["f"])("option",{key:t},Object(c["t"])(t),1)})),128))],40,oc)])):Object(c["e"])("",!0)])])})),128))])}var uc={name:"lowPriority",props:{cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].addons}},methods:Object(R["a"])({},Object(M["d"])(["updateAddonInput","updateAddonSelector","updateAddonCheckbox"]))};const ic=st()(uc,[["render",lc]]);var dc=ic,bc={name:"productCard",props:{cardIndex:Number},emits:["remove","next","prev"],data:function(){return{PRODUCTS:Mt,options:Object.keys(Rt).filter((function(t){return"secondary"!=Rt[t].type})),flipped:!1,pulled:null,selectedAddOn:null}},computed:{productCard:function(){return this.$store.state.values.product_cards[this.cardIndex]},type:function(){switch(this.productCard.chosenType){case"Столешница":return"countertop";case"Барная стойка":return"bar";case"Подоконник":return"sill";case"Стеновая панель":return"wall";default:return"none"}}},methods:Object(R["a"])(Object(R["a"])({},Object(M["d"])(["updateCardOptions","addCardOption","removeCardOption"])),{},{flip:function(){this.$refs["card"+this.cardIndex].classList.contains("pulled")?(console.log(!0),this.showDel({forced:!0})):""!=this.productCard.chosenType&&(this.flipped=!this.flipped)},showDel:function(t){var e=t.forced,n=void 0!==e&&e;null==this.pulled?(this.pulled=!0,this.$refs["card"+this.cardIndex].classList.toggle("pulled")):this.pulled&&!n||(console.log([!this.pulled,n]),this.pulled=!this.pulled,this.$refs["card"+this.cardIndex].classList.toggle("pulled"),this.$refs["card"+this.cardIndex].classList.toggle("slideback"))},updateOption:function(t,e,n){this.$store.commit("updateOptionValue",{cardIndex:this.cardIndex,optionIndex:t,field:e,value:n})}}),components:{Edge:xe,Sink:Be,Socket:en,Cookpanel:hn,Border:zn,Ladder:na,Cutout:fa,WallpanelLength:Ca,SurfaceDocking:Wa,LowPriority:dc,Installation:Qa}};n("d380");const pc=st()(bc,[["render",qt],["__scopeId","data-v-96bacd72"]]);var mc=pc,fc={name:"productBlock",computed:{cards:function(){return this.$store.state.values.product_cards}},methods:Object(R["a"])(Object(R["a"])({},Object(M["d"])(["addProductCard","removeProductCard"])),{},{newCard:function(){this.addProductCard()}}),components:{ProductCard:mc}};const gc=st()(fc,[["render",ft]]);var Oc=gc,jc={class:"row g-3 row-cols-1"},vc={class:"col col-12 col-md-6 h-100"},hc={class:"card"},yc=Object(c["g"])("div",{class:"card-header"},"Замер",-1),xc={class:"card-body"},wc=["value"],kc=["value"],Ic={class:"col col-12 col-md-6 h-100"},Cc={class:"card"},_c=Object(c["g"])("div",{class:"card-header"},"Доставка",-1),Sc={class:"card-body"},Lc=["value"],Pc={class:"col col-12 col-md-6 h-100"},$c={class:"card"},Tc=Object(c["g"])("div",{class:"card-header"},"Монтаж",-1),Nc={class:"card-body"},qc=["value"],Rc={class:"col col-12 col-md-6 h-100"},Mc={class:"card"},Dc=Object(c["g"])("div",{class:"card-header"},"Расстояние за Мкад",-1),Ac={class:"card-body"},zc=["value"],Uc={class:"col col-12 col-md-6 h-100"},Jc={class:"card"},Wc=Object(c["g"])("div",{class:"card-header"},"Ручной подъем",-1),Bc={class:"card-body"},Ec=["value"],Vc={class:"col col-12 col-md-6 h-100"},Fc={class:"card"},Hc=Object(c["g"])("div",{class:"card-header"},"Дополнительные работы",-1),Gc={class:"card-body"},Xc=["value"],Kc={class:"col col-12 col-md-6 h-100"},Qc={class:"card"},Yc=Object(c["g"])("div",{class:"card-header"},"Накрутка",-1),Zc={class:"card-body"},tr=["value"];function er(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",jc,[Object(c["g"])("div",vc,[Object(c["g"])("div",hc,[yc,Object(c["g"])("div",xc,[Object(c["g"])("input",{type:"number",class:"form-control mb-2",placeholder:"число выездов",value:o.logistics.measurement,onInput:e[0]||(e[0]=function(t){return o.update("measurement",t.target.value)})},null,40,wc),Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"цена за шаблон",value:o.logistics.templatePrice,onInput:e[1]||(e[1]=function(t){return o.update("templatePrice",t.target.value)})},null,40,kc)])])]),Object(c["g"])("div",Ic,[Object(c["g"])("div",Cc,[_c,Object(c["g"])("div",Sc,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"число выездов",value:o.logistics.delivery,onInput:e[2]||(e[2]=function(t){return o.update("delivery",t.target.value)})},null,40,Lc)])])]),Object(c["g"])("div",Pc,[Object(c["g"])("div",$c,[Tc,Object(c["g"])("div",Nc,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"число выездов",value:o.logistics.mounting,onInput:e[3]||(e[3]=function(t){return o.update("mounting",t.target.value)})},null,40,qc)])])]),Object(c["g"])("div",Rc,[Object(c["g"])("div",Mc,[Dc,Object(c["g"])("div",Ac,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"км",value:o.logistics.distance,onInput:e[4]||(e[4]=function(t){return o.update("distance",t.target.value)})},null,40,zc)])])]),Object(c["g"])("div",Uc,[Object(c["g"])("div",Jc,[Wc,Object(c["g"])("div",Bc,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"км",value:o.logistics.manualLifting,onInput:e[5]||(e[5]=function(t){return o.update("manualLifting",t.target.value)})},null,40,Ec)])])]),Object(c["g"])("div",Vc,[Object(c["g"])("div",Fc,[Hc,Object(c["g"])("div",Gc,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"руб.",value:o.logistics.additionalWork,onInput:e[6]||(e[6]=function(t){return o.update("additionalWork",t.target.value)})},null,40,Xc)])])]),Object(c["g"])("div",Kc,[Object(c["g"])("div",Qc,[Yc,Object(c["g"])("div",Zc,[Object(c["g"])("input",{type:"number",class:"form-control",placeholder:"руб.",value:o.logistics.overPrice,onInput:e[7]||(e[7]=function(t){return o.update("overPrice",t.target.value)})},null,40,tr)])])])])}var nr={name:"LogisticsBlock",computed:{logistics:function(){return this.$store.state.values.logistics}},methods:{update:function(t,e){this.$store.commit("updateLogisticsInfo",{field:t,value:e})}}};const ar=st()(nr,[["render",er]]);var cr=ar,rr={class:"list-group list-group-flush",ref:"content"},or={key:0,class:"list-group-item"},sr={class:"row justify-content-between g-0 mb-2"},lr=Object(c["g"])("span",{class:"col h4 mb-0 py-auto"},"Материал",-1),ur={key:0,class:"col text-end fw-bold pb-0"},ir={class:"res-list"},dr={key:0,class:"col h6 my-auto"},br={key:1,class:"col my-auto"},pr={class:"col text-end my-auto"},mr={key:0,class:"row justify-content-between g-0 mt-2"},fr=Object(c["g"])("span",{class:"col my-auto"},"Материалы / расходники",-1),gr={class:"col text-end my-auto"},Or={key:1,class:"list-group-item"},jr={class:"row justify-content-between g-0 mb-2"},vr=Object(c["g"])("span",{class:"col h4 mb-0 py-auto"},"Изделие",-1),hr={key:0,class:"col text-end fw-bold pb-0"},yr={class:"res-list"},xr={class:"col my-auto"},wr={class:"col text-end my-auto"},kr={class:"col-12 res-list"},Ir={class:"col my-auto"},Cr={class:"col text-end my-auto"},_r={class:"col my-auto"},Sr={class:"col text-end my-auto"},Lr={key:2,class:"list-group-item"},Pr={class:"row justify-content-between g-0 mb-2"},$r=Object(c["g"])("span",{class:"col h4 mb-0 py-auto"},"Логистика",-1),Tr={key:0,class:"col text-end fw-bold pb-0"},Nr={class:"res-list"},qr={class:"col my-auto"},Rr={class:"col text-end my-auto"},Mr={class:"list-group-item"},Dr={class:"btn-group w-100",role:"group"};function Ar(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",rr,[o.materialResult>0?(Object(c["l"])(),Object(c["f"])("div",or,[Object(c["g"])("div",sr,[lr,0!=t.materialSum.result?(Object(c["l"])(),Object(c["f"])("span",ur,Object(c["t"])(o.materialResult)+" руб.",1)):Object(c["e"])("",!0)]),Object(c["g"])("ul",ir,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(o.c_materials,(function(e,n){return Object(c["l"])(),Object(c["f"])("li",{key:n,class:"row justify-content-between g-0 mb-2"},[e.name?(Object(c["l"])(),Object(c["f"])("span",dr,Object(c["t"])(e.name),1)):(Object(c["l"])(),Object(c["f"])("span",br,"Кварцевый агломерат")),Object(c["g"])("span",pr,Object(c["t"])(e.result+t.overPrice.result/t.materials.length)+" руб.",1)])})),128)),o.false_spendings>0?(Object(c["l"])(),Object(c["f"])("li",mr,[fr,Object(c["g"])("span",gr,Object(c["t"])(o.false_spendings)+" руб.",1)])):Object(c["e"])("",!0)])])):Object(c["e"])("",!0),t.optionSum.length?(Object(c["l"])(),Object(c["f"])("div",Or,[Object(c["g"])("div",jr,[vr,t.totalProductSum.discount?(Object(c["l"])(),Object(c["f"])("span",hr,Object(c["t"])(t.totalProductSum.discount)+" руб.",1)):Object(c["e"])("",!0)]),Object(c["g"])("ul",yr,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(t.products,(function(e,n){return Object(c["l"])(),Object(c["f"])("li",{key:n,class:"row justify-content-between g-0 mb-2"},[Object(c["g"])("span",xr,Object(c["t"])(e.name),1),Object(c["g"])("span",wr,Object(c["t"])(t.optionSum[n].discount+t.addonSumList[n].discount)+" руб.",1),Object(c["g"])("ul",kr,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(e.options,(function(t,e){return Object(c["l"])(),Object(c["f"])("li",{class:"small-text row justify-content-between g-0 mb-2",key:e},[Object(c["g"])("span",Ir,Object(c["t"])(t.text),1),Object(c["g"])("span",Cr,Object(c["t"])(t.discount)+" руб.",1)])})),128)),(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(t.addons[n],(function(t,e){return Object(c["l"])(),Object(c["f"])("li",{class:"small-text row justify-content-between g-0 mb-2",key:e},[Object(c["g"])("span",_r,Object(c["t"])(t.name),1),Object(c["g"])("span",Sr,Object(c["t"])(t.discount)+" руб.",1)])})),128))])])})),128))])])):Object(c["e"])("",!0),t.logisticsList.length?(Object(c["l"])(),Object(c["f"])("div",Lr,[Object(c["g"])("div",Pr,[$r,t.logisticSum.salary?(Object(c["l"])(),Object(c["f"])("span",Tr,Object(c["t"])(t.logisticSum.result)+" руб.",1)):Object(c["e"])("",!0)]),Object(c["g"])("ul",Nr,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(t.logisticsList,(function(t,e){return Object(c["l"])(),Object(c["f"])("li",{key:e,class:"row justify-content-between g-0 mb-2"},[Object(c["g"])("span",qr,Object(c["t"])(t.text),1),Object(c["g"])("span",Rr,Object(c["t"])(t.result)+" руб.",1)])})),128))])])):Object(c["e"])("",!0),Object(c["g"])("div",Mr,[Object(c["g"])("h4",null,"Итог: "+Object(c["t"])(t.total),1),Object(c["g"])("div",Dr,[Object(c["z"])(Object(c["g"])("input",{type:"radio",class:"btn-check",name:"discountRadio",id:"discount0",value:"0",autocomplete:"off","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.discount=t})},null,512),[[c["v"],o.discount]]),Object(c["g"])("label",{class:Object(c["k"])(["btn btn-outline-primary",{"recommended-discount":0==t.recommendedDiscount}]),for:"discount0"},"Без скидки",2),Object(c["z"])(Object(c["g"])("input",{type:"radio",class:"btn-check",name:"discountRadio",id:"discount10",value:"10",autocomplete:"off","onUpdate:modelValue":e[1]||(e[1]=function(t){return o.discount=t})},null,512),[[c["v"],o.discount]]),Object(c["g"])("label",{class:Object(c["k"])(["btn btn-outline-primary",{"recommended-discount":10==t.recommendedDiscount}]),for:"discount10"},"Колонка 1",2),Object(c["z"])(Object(c["g"])("input",{type:"radio",class:"btn-check",name:"discountRadio",id:"discount20",value:"20",autocomplete:"off","onUpdate:modelValue":e[2]||(e[2]=function(t){return o.discount=t})},null,512),[[c["v"],o.discount]]),Object(c["g"])("label",{class:Object(c["k"])(["btn btn-outline-primary",{"recommended-discount":20==t.recommendedDiscount}]),for:"discount20"},"Колонка 2",2),Object(c["z"])(Object(c["g"])("input",{type:"radio",class:"btn-check",name:"discountRadio",id:"discount30",value:"30",autocomplete:"off","onUpdate:modelValue":e[3]||(e[3]=function(t){return o.discount=t})},null,512),[[c["v"],o.discount]]),Object(c["g"])("label",{class:Object(c["k"])(["btn btn-outline-primary",{"recommended-discount":30==t.recommendedDiscount}]),for:"discount30"},"Колонка 3",2)])])],512)}var zr={computed:Object(R["a"])(Object(R["a"])({},Object(M["c"])(["materialSum","optionSum","productSum","additionalWork","templates","logisticsList","logisticRawSum","logisticSum","addonSumList","addonSum","rawTotal","total","spendings","recommendedDiscount","measurementPrice","overPrice","products","addons","materials","totalProductSum"])),{},{c_materials:function(){return this.materials.filter((function(t){return t.name||t.count||t.result}))},materialResult:function(){return this.materialSum.result+this.measurementPrice.result+this.overPrice.result},false_spendings:function(){return this.measurementPrice.result+(this.c_materials.length>0?0:this.overPrice.result)},discount:{get:function(){return this.$store.state.values.discount||0},set:function(t){this.setDiscount(t)}}}),methods:{setDiscount:function(t){this.$store.commit("setDiscount",t)}}};n("807c");const Ur=st()(zr,[["render",Ar]]);var Jr=Ur,Wr={class:"list-group list-group-flush"},Br={key:0,class:"list-group-item"},Er={class:"row justify-content-between g-0 mb-2"},Vr=Object(c["g"])("span",{class:"col h4 mb-0 py-auto"},"Материал",-1),Fr={key:0,class:"col text-end fw-bold pb-0"},Hr={class:"res-list"},Gr={key:0,class:"col h6 my-auto"},Xr={key:1,class:"col my-auto"},Kr={class:"col text-end my-auto"},Qr={key:1,class:"list-group-item"},Yr={class:"row justify-content-between g-0 mb-2"},Zr=Object(c["g"])("span",{class:"col h4 mb-0 py-auto"},"Зарплата",-1),to={key:0,class:"col text-end fw-bold pb-0"},eo={class:"res-list"},no={class:"col my-auto"},ao={class:"col text-end my-auto"},co={class:"col-12 res-list"},ro={class:"col my-auto"},oo={class:"col text-end my-auto"},so={class:"col my-auto"},lo={class:"col text-end my-auto"},uo={class:"col my-auto"},io={key:0,class:"col text-end my-auto"},bo={key:1,class:"col text-end my-auto"},po={key:2,class:"list-group-item"},mo=Object(c["g"])("div",{class:"row justify-content-between g-0 mb-2"},[Object(c["g"])("span",{class:"col h4 mb-0 py-auto"},"Траты на логистику")],-1),fo={class:"res-list"},go={key:0,class:"row justify-content-between g-0 mt-2"},Oo=Object(c["g"])("span",{class:"col my-auto"},"Замер",-1),jo={class:"col text-end my-auto"},vo={key:1,class:"row justify-content-between g-0 mt-2"},ho=Object(c["g"])("span",{class:"col my-auto"},"Накрутка",-1),yo={class:"col text-end my-auto"},xo={class:"list-group-item"};function wo(t,e,n,a,r,o){return Object(c["l"])(),Object(c["f"])("div",Wr,[t.materials.length?(Object(c["l"])(),Object(c["f"])("div",Br,[Object(c["g"])("div",Er,[Vr,0!=t.materialSum.salary?(Object(c["l"])(),Object(c["f"])("span",Fr,Object(c["t"])(t.materialSum.salary)+" руб.",1)):Object(c["e"])("",!0)]),Object(c["g"])("ul",Hr,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(t.materials,(function(t,e){return Object(c["l"])(),Object(c["f"])("li",{key:e,class:"row justify-content-between g-0 mb-2"},[t.name?(Object(c["l"])(),Object(c["f"])("span",Gr,Object(c["t"])(t.name),1)):(Object(c["l"])(),Object(c["f"])("span",Xr,"Кварцевый агломерат")),Object(c["g"])("span",Kr,Object(c["t"])(t.salary)+" руб.",1)])})),128))])])):Object(c["e"])("",!0),t.optionSum.length?(Object(c["l"])(),Object(c["f"])("div",Qr,[Object(c["g"])("div",Yr,[Zr,o.specialistSalary?(Object(c["l"])(),Object(c["f"])("span",to,Object(c["t"])(o.specialistSalary)+" руб.",1)):Object(c["e"])("",!0)]),Object(c["g"])("ul",eo,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(t.products,(function(e,n){return Object(c["l"])(),Object(c["f"])("li",{key:n,class:"row justify-content-between g-0 mb-2"},[Object(c["g"])("span",no,Object(c["t"])(e.name),1),Object(c["g"])("span",ao,Object(c["t"])(t.optionSum[n].salary+t.addonSumList[n].salary)+" руб.",1),Object(c["g"])("ul",co,[(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(e.options,(function(t,e){return Object(c["l"])(),Object(c["f"])("li",{class:"small-text row justify-content-between g-0 mb-2",key:e},[Object(c["g"])("span",ro,Object(c["t"])(t.text),1),Object(c["g"])("span",oo,Object(c["t"])(t.salary)+" руб.",1)])})),128)),(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(t.addons[n],(function(t,e){return Object(c["l"])(),Object(c["f"])("li",{class:"small-text row justify-content-between g-0 mb-2",key:e},[Object(c["g"])("span",so,Object(c["t"])(t.name),1),Object(c["g"])("span",lo,Object(c["t"])(t.salary)+" руб.",1)])})),128))])])})),128)),(Object(c["l"])(!0),Object(c["f"])(c["a"],null,Object(c["p"])(o.specialistLogistics,(function(t,e){return Object(c["l"])(),Object(c["f"])("li",{key:e,class:"row justify-content-between g-0 mb-2"},[Object(c["g"])("span",uo,Object(c["t"])(t.text),1),t.salary?(Object(c["l"])(),Object(c["f"])("span",io,Object(c["t"])(t.salary)+" руб.",1)):(Object(c["l"])(),Object(c["f"])("span",bo,Object(c["t"])(t.result)+" руб.",1))])})),128))])])):Object(c["e"])("",!0),t.logisticsList.length?(Object(c["l"])(),Object(c["f"])("div",po,[mo,Object(c["g"])("ul",fo,[t.measurementPrice.salary>0?(Object(c["l"])(),Object(c["f"])("li",go,[Oo,Object(c["g"])("span",jo,Object(c["t"])(t.measurementPrice.salary)+" руб.",1)])):Object(c["e"])("",!0),t.overPrice.result>0?(Object(c["l"])(),Object(c["f"])("li",vo,[ho,Object(c["g"])("span",yo,Object(c["t"])(t.overPrice.result)+" руб.",1)])):Object(c["e"])("",!0)])])):Object(c["e"])("",!0),Object(c["g"])("div",xo,[Object(c["g"])("h4",null,"Итог: "+Object(c["t"])(t.rawTotal.salary),1)])])}var ko={computed:Object(R["a"])(Object(R["a"])({},Object(M["c"])(["materialSum","optionSum","productSum","additionalWork","templates","logisticsList","logisticRawSum","logisticSum","addonSumList","addonSum","rawTotal","total","spendings","recommendedsalary","measurementPrice","overPrice","products","addons","materials","totalProductSum","lifting","installation"])),{},{specialistSalary:function(){return(this.totalProductSum.salary||0)+(this.specialistLogistics.reduce((function(t,e){return{salary:t.salary+e.salary}})).salary||0)},specialistLogistics:function(){var t=[this.installation,this.lifting];return t}})};n("4003");const Io=st()(ko,[["render",wo]]);var Co=Io,_o=n("8baf"),So=n("c0e9"),Lo=n.n(So),Po={name:"App",data:function(){return{tabs:[{component:"materials",name:"Материал"},{component:"products",name:"Изделия"},{component:"logistics",name:"Логистика"}],chosenTab:"products",templates:null}},methods:Object(R["a"])(Object(R["a"])(Object(R["a"])({setTemplateNames:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.templates=JSON.parse(document.getElementById("template_names").textContent);case 1:case"end":return e.stop()}}),e)})))()},setTab:function(){var t=this;return Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.chosenTab=window.localStorage.getItem("chosenTab")||t.tabs[0].component;case 1:case"end":return e.stop()}}),e)})))()}},Object(M["d"])(["addMaterialCard","addProductCard"])),Object(M["b"])(["save"])),{},{focusCard:function(t,e){setTimeout((function(){var n=document.getElementById("".concat(t,"-").concat(e));n.scrollIntoView({block:"center",behavior:"auto"})}),0)},addCard:function(){var t={materials:this.addMaterialCard,products:this.addProductCard};t[this.chosenTab]()},switchTab:function(t){this.chosenTab=t,window.localStorage.setItem("chosenTab",t)},download:function(){var t=new _o["a"];console.log(this.$refs.resultComponent.$refs.content.innerHTML);var e=this.$refs.resultComponent.$refs.content.innerHTML;t.html(e,{callback:function(t){t.save()},x:10,y:10}),t.save("sample.pdf")},downloadWithCSS:function(){var t=document.createElement("canvas");console.log(t),Lo()(this.$refs.resultComponent.$refs.content,{scale:5}).then((function(t){var e,n,a=t.toDataURL("image/png",e=t.width,n=t.height),c=n/e,r=new _o["a"]({}),o=r.internal.pageSize.width,s=r.internal.pageSize.height;s=o*c,r.addImage(a,"JPEG",.025*o,20,.8*o,.8*s),r.save("AssetComparison.pdf")}))}}),created:function(){this.setTemplateNames(),this.setTab()},components:{Materials:bt,Products:Oc,Logistics:cr,Result:Jr,Salary:Co}};n("f1a8");const $o=st()(Po,[["render",N]]);var To=$o,No=(n("a15b"),n("d81d"),n("5319"),n("a434"),n("e9c4"),n("bc3a")),qo=n.n(No),Ro={materialDelivery:{raw:3300,mul:1.25,price:function(){return this.raw*this.mul}},border:{"Простой":{raw:500,mul:3,price:function(){return this.mul*this.raw}},"Калиброванный":{raw:1e3,mul:3,price:function(){return this.mul*this.raw}}},edge:{type:{"№1":{raw:0,consumables:0},"№2":{raw:400,consumables:0},"№3":{raw:0,consumables:0},"№4":{raw:400,consumables:0},"№6":{raw:750,consumables:0},"№7":{raw:1500,consumables:0},"Утиный нос":{raw:750,consumables:0},"Фигурная":{raw:3130,consumables:1e3},mul:3,cmul:3,consumables:function(t){return this[t].consumables*this.cmul},price:function(t){return this[t].raw*this.mul+this.consumables(t)}},width:{"20 мм":{raw:800,consumables:300},"30 мм":{raw:900,consumables:300},"40 мм":{raw:1870,consumables:1e3},"Другая":{raw:2170,consumables:1e3},mul:3.2,cmul:3,consumables:function(t){return this[t].consumables*this.cmul},price:function(t){return this[t].raw*this.mul+this.consumables(t)}},angle:{45:{raw:500},90:{raw:0},mul:3,price:function(t){return this[t].raw*this.mul}}},sink:{"Накладная":{raw:1e3},"Поджимная":{raw:2500},"Интегрированная":{raw:12500},"Интегрированная 45°":{raw:17500},"Вровень":{raw:3500},mul:3,price:function(t){return this[t].raw*this.mul}},cookpanel:{"Накладная":{raw:1e3},"Интегрированная":{raw:3500},mul:3,price:function(t){return this[t].raw*this.mul}},socket:{raw:300,mul:3,price:function(){return this.raw*this.mul}},surface_docking:{"Прямая":{raw:800},"Косая":{raw:900},mul:3,price:function(t){return this[t].raw*this.mul}},cutout:{raw:250,mul:3,price:function(){return this.mul*this.raw}},wallpanel_length:{raw:790,mul:3,price:function(){return this.raw*this.mul}},ladder:{step:{raw:800,mul:3,price:function(){return this.raw*this.mul}},understep:{raw:800,mul:3,price:function(){return this.raw*this.mul}}},mounting:{fix:4e3,add:500,mul:1.3,distance:20,price:function(t){return this[t]*this.mul}},delivery:{fix:1800,distance:40,mul:1.67,price:function(t){return this[t]*this.mul}},manualLift:{raw:600,mul:1.334,price:function(){return this.raw*this.mul}},measurement:{fix:2e3,distance:30,mul:1.2,price:function(t){return this[t]*this.mul}},template:{fix:800,mul:1.25,price:function(){return this.fix*this.mul}},"Радиусный угол > 12":{fix:1e3,mul:3,price:function(){return this.fix*this.mul}},"Другие отверстия":{fix:1e3,mul:3,price:function(){return this.fix*this.mul}},"Обход пиластры":{fix:1500,mul:3,price:function(){return this.fix*this.mul}},"Конвекция":{type:{"вровень":{raw:500},"фрезеровка":{raw:3500},mul:3,price:function(t){return this[t].raw*this.mul}},price:function(){return 0}},"Лучи под сток воды":{fix:500,mul:3,price:function(){return this.fix*this.mul}},"Капельник":{fix:500,mul:3,price:function(){return this.fix*this.mul}},"Монтаж хром опоры заказчика":{fix:1500,mul:3,price:function(){return this.fix*this.mul}},"Стыковка опорной ноги из камня под 45":{fix:500,mul:3,price:function(){return this.fix*this.mul}},"Шлифовка подворота камня":{type:{"до 150 мм":{raw:300},"более 150мм":{raw:2500},mul:3,price:function(t){return this[t].raw*this.mul}},price:function(){return 0}},"Подворот из камня":{fix:1e3,mul:3,price:function(){return this.fix*this.mul}},"Демонтаж старых изделий (до 6 п.м.)":{fix:4e3,mul:1.2,price:function(){return this.fix*this.mul}}};function Mo(t,e){return t>0&&e>0?{result:t*e+(t%1?1500:0)+Ro.materialDelivery.price()+(e>=1e5?1e4*t:.1*e*t),salary:t*e+(t%1?1500:0)+Ro.materialDelivery.raw}:{result:0,salary:0}}function Do(t){return t.length>0?{result:Ro.wallpanel_length.price()*t.length,salary:Ro.wallpanel_length.raw*t.length,consumables:0,text:"Обработка, ".concat(t.length," п.м.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Ao(t){return t.stepLength?{result:(Ro.ladder.step.price()+Ro.edge.type.price("№2"))*t.stepLength+Ro.ladder.understep.price()*t.underStepLength,salary:(Ro.ladder.step.raw+Ro.edge.type["№2"].raw)*t.stepLength+Ro.ladder.understep.raw*t.underStepLength,consumables:0,text:"Обработка ступеней"}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function zo(t){return t.length>0?{result:Ro.border[t.type].price()*t.length,salary:Ro.border[t.type].raw*t.length,consumables:0,text:"".concat(t.type," бортик, ").concat(t.length," п.м.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Uo(t){var e=[t.type,t.width,t.angle,t.length],n=e[0],a=e[1],c=e[2],r=e[3],o=Ro.edge;return n&&a&&c&&r>0?{result:r*(o.angle.price(c)+o.width.price(a)+o.type.price(n)),salary:r*(o.angle[c].raw+o.width[a].raw+o.type[n].raw),consumables:r*(o.width[a].consumables+o.type[n].consumables),text:"Кромка ".concat(n,", ").concat(a,", склейка ").concat(c,"°, ").concat(r," п.м.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Jo(t){return t.quantity>0&&t.type?{result:Ro.sink.price(t.type)*t.quantity,salary:Ro.sink[t.type].raw*t.quantity,consumables:0,text:"".concat(t.type," мойка, ").concat(t.quantity," шт.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Wo(t){return t.quantity?{result:Ro.socket.price()*t.quantity,salary:Ro.socket.raw*t.quantity,consumables:0,text:"Вырез под розетку, ".concat(t.quantity," шт.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Bo(t){return t.quantity&&t.type?{result:Ro.surface_docking.price(t.type)*t.quantity,salary:Ro.surface_docking[t.type].raw*t.quantity,consumables:0,text:"Стыковка плоскостей ".concat(t.type.toLowerCase(),", ").concat(t.quantity," шт.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Eo(t){return t.quantity?{result:Ro.cutout.price()*t.quantity,salary:Ro.cutout.raw*t.quantity,consumables:0,text:"Простой вырез, ".concat(t.quantity," шт.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Vo(t){return t.quantity>0&&t.type?{result:Ro.cookpanel.price(t.type)*t.quantity,salary:Ro.cookpanel[t.type].raw*t.quantity,consumables:0,text:"".concat(t.type," варочная панель, ").concat(t.quantity," шт.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Fo(t){return t.mounting>0&&t.product_length>0?{text:"Установка изделий",result:(t.product_length>=2?Ro.mounting.price("add")*t.product_length:0)+(t.distance*Ro.mounting.price("distance")+Ro.mounting.price("fix"))*t.mounting,salary:(t.product_length>=2?Ro.mounting.add*t.product_length:0)+(t.distance*Ro.mounting.distance+Ro.mounting.fix)*t.mounting,consumables:0}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Ho(t){return t.delivery?{text:"Доставка изделий",result:Math.ceil((Ro.delivery.price("fix")+Ro.delivery.price("distance")*t.distance)*t.delivery),salary:(Ro.delivery.fix+Ro.delivery.distance*t.distance)*t.delivery}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Go(t){return t.floor>0?{text:"Ручной подъем, ".concat(t.floor," этаж"),result:Math.ceil(Ro.manualLift.price()*t.floor),salary:Ro.manualLift.raw*t.floor}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Xo(t){return t.measurement>0?{result:(Ro.measurement.price("fix")+t.distance*Ro.measurement.price("distance")+Ro.template.price())*t.measurement,salary:(Ro.measurement.fix+t.distance*Ro.measurement.distance+Ro.template.fix)*t.measurement}:{result:0,salary:0,text:"Незаполненная опция"}}function Ko(t){var e="undefined"!=typeof t.type&&t.type.selected,n="undefined"!=typeof t.count?t.count:0,a="undefined"!=typeof t.isChecked?t.isChecked:0,c=Ro[t.name];return{name:t.name,result:n*(c.price()+(e?c.type.price(e):0))+Number(a)*c.price(),salary:n*(c.fix?c.fix:0+(e?c.type[e].raw:0))+Number(a)*(c.fix?c.fix:0)}}function Qo(t){return t.split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")}function Yo(t,e){setTimeout((function(){var n=document.getElementById("".concat(t,"-").concat(e));n.scrollIntoView({block:"center",behavior:"auto"})}),0)}var Zo=Object(M["a"])({state:JSON.parse(document.getElementById("values").textContent),actions:{save:function(t){var e=t.commit,n=t.state;qo.a.put("save",{data:{state:n,updateTime:window.localStorage.getItem("lastUserInput")}}).then((function(t){t.data.new&&(window.history.pushState({},"Расчет ".concat(t.data.id),t.data.id),e("setId",t.data.id))})).catch((function(t){alert(t)}))},changeTemplate:function(t,e){var n=t.commit;qo.a.post("template/get",{id:e}).then((function(t){n("setTemplate",t.data.values)})).catch((function(t){alert(t)}))},saveTemplate:function(t){var e=t.state;qo.a.put("template/save",{state:e}).catch((function(t){alert(t)}))}},getters:{totalProductSum:function(t,e){return{discount:e.productSum.discount+e.addonSum.discount,result:e.productSum.result+e.addonSum.result,salary:e.productSum.salary+e.addonSum.salary}},overPrice:function(t){return{result:Number(t.values.logistics.overPrice)}},materialPrice:function(t){return function(e){var n=t.values.material_cards[e];return Mo(n.materialCount,n.materialPrice)}},materials:function(t,e){return t.values.material_cards.map((function(t,n){var a=e.materialPrice(n);return{name:t.materialName,count:t.materialCount,result:a.result,salary:a.salary}}))},products:function(t,e){return t.values.product_cards.map((function(t,n){return{options:e.optionsPrices(n),name:t.chosenType}}))},optionsPrices:function(t){return function(e){return t.values.product_cards[e].option_card.map((function(e){var n=a[e.component_type.replace("-","_")](e.data);return n.discount=Math.ceil(n.result*(1-t.values.discount/100)),n}))}},installation:function(t){var e=t.values.product_cards.filter((function(t){return t.installation.status}));return e=e.length>0?e.map((function(t){return Number(t.installation.length)})).reduce((function(t,e){return t+e})):0,Fo({product_length:e,distance:t.values.logistics.distance,mounting:t.values.logistics.mounting})},delivery:function(t){return Ho({distance:t.values.logistics.distance,delivery:t.values.logistics.delivery})},lifting:function(t){return Go({floor:t.values.logistics.manualLifting})},measurementPrice:function(t){return Xo({distance:t.values.logistics.distance,measurement:t.values.logistics.measurement})},addons:function(t,e){return t.values.product_cards.map((function(t,n){return e.addonPrices(n)}))},addonPrices:function(t){return function(e){var n=t.values.product_cards[e].addons;return n.map((function(e){var n=Ko(e);return n.discount=Math.ceil(n.result*(1-t.values.discount/100)),n})).filter((function(t){return t.result>0}))}},materialSum:function(t,e){return e.materials.length?e.materials.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary}})):{result:0,salary:0}},optionSum:function(t,e){return e.products.map((function(t){return t.options.length>0?t.options.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary,discount:t.discount+e.discount,consumables:t.consumables+e.consumables}})):{result:0,salary:0,consumables:0,discount:0}}))},productSum:function(t,e){return e.optionSum.length>0?e.optionSum.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary,discount:t.discount+e.discount,consumables:t.consumables+e.consumables}})):{result:0,salary:0,consumables:0,discount:0}},additionalWork:function(t){return{result:Number(t.values.logistics.additionalWork),text:"Дополнительные работы"}},templates:function(t){return{result:Number(t.values.logistics.templatePrice),text:"Изготовление шаблонов"}},logisticsList:function(t,e){return[e.lifting,e.delivery,e.installation,e.additionalWork,e.templates].filter((function(t){return t.result}))},logisticRawSum:function(t,e){return e.logisticsList.length>0?function(t){var e=t.filter((function(t){return"undefined"!=typeof t.salary}));return e.length?e.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary}})):{result:0,salary:0}}(e.logisticsList):{result:0,salary:0}},logisticSum:function(t,e){return{result:e.logisticRawSum.result+e.additionalWork.result+e.templates.result}},addonSumList:function(t,e){return e.addons.map((function(t){return t.length>0?t.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary,discount:t.discount+e.discount}})):{result:0,salary:0,discount:0}}))},addonSum:function(t,e){return e.addonSumList.length>0?e.addonSumList.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary,discount:t.discount+e.discount}})):{result:0,salary:0,discount:0}},rawTotal:function(t,e){return[e.materialSum,e.measurementPrice,e.addonSum,e.productSum,e.logisticRawSum].reduce((function(t,e){return"undefined"==typeof t.discount&&(t.discount=t.result),"undefined"==typeof e.discount&&(e.discount=e.result),{result:t.result+e.result,salary:t.salary+e.salary,discount:t.discount+e.discount}}))},total:function(t,e){return console.log(e.rawTotal),e.rawTotal.discount+e.templates.result+e.overPrice.result+e.additionalWork.result},spendings:function(t,e){return[e.rawTotal.salary,e.productSum.consumables].filter((function(t){return"undefined"!=typeof t})).reduce((function(t,e){return t+e}))},recommendedDiscount:function(t,e){var n=function(){var t=e.spendings/e.rawTotal.result;return console.log(t),t>=.9?0:t>=.8?10:t>=.75?20:t<.75?30:void 0};return n()}},mutations:{setTemplate:function(t,e){t.values=e},setId:function(t,e){t.id=e},addMaterialCard:function(t){var e=t.values.material_cards;e.push({materialName:null,materialPrice:null,materialCount:null,result:0}),Yo("material-card",e.length-1)},removeMaterialCard:function(t,e){t.values.material_cards.splice(e,1)},updateMaterialName:function(t,e){t.values.material_cards[e.index].materialName=Qo(e.value)},updateMaterialField:function(t,e){t.values.material_cards[e.index][e.field]=e.value},addProductCard:function(t){var e=t.values.product_cards;e.push({chosenType:"",option_card:[],installation:{status:!1,length:null},addons:JSON.parse(JSON.stringify(Dt))}),Yo("product-card",e.length-1)},removeProductCard:function(t,e){t.values.product_cards.splice(e,1)},updateCardOptions:function(t,e){var n=t.values.product_cards[e.cardIndex];n.chosenType=e.choice,n.option_card=Mt[e.choice].defaultOptions.map((function(t){return{component_type:t.component,data:JSON.parse(JSON.stringify(t.data)),result:null}}))},addCardOption:function(t,e){if(null!=e.choice){var n=Rt[e.choice],a=t.values.product_cards[e.cardIndex].option_card;a.push({component_type:n.component,data:JSON.parse(JSON.stringify(n.data)),result:null})}},removeCardOption:function(t,e){t.values.product_cards[e.cardIndex].option_card.splice(e.optionIndex,1)},updateOptionValue:function(t,e){var n=t.values.product_cards[e.cardIndex].option_card[e.optionIndex];n.data[e.field]=e.value},insertAddons:function(t,e){t.values.product_cards[e].addons=JSON.parse(JSON.stringify(Dt))},updateAddonInput:function(t,e){t.values.product_cards[e.cardIndex].addons[e.addonIndex][e.field]=e.value},updateAddonSelector:function(t,e){t.values.product_cards[e.cardIndex].addons[e.addonIndex][e.field].selected=e.value},updateAddonCheckbox:function(t,e){var n=t.values.product_cards[e.cardIndex].addons[e.addonIndex];n.isChecked=!n.isChecked},updateInstallationLength:function(t,e){t.values.product_cards[e.cardIndex].installation.length=e.value},updateInstallationStatus:function(t,e){t.values.product_cards[e.cardIndex].installation.status=e.value,!0===e.value&&t.values.logistics.mounting<1&&(t.values.logistics.mounting=1)},updateLogisticsInfo:function(t,e){t.values.logistics[e.field]=e.value},setDiscount:function(t,e){t.values.discount=e}}}),ts=n("9a7e"),es=n("130e");function ns(t){13===t.keyCode&&document.activeElement.blur()}function as(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var c=n[a].trim();if(c.substring(0,t.length+1)===t+"="){e=decodeURIComponent(c.substring(t.length+1));break}}return e}document.addEventListener("keydown",ns);var cs=as("csrftoken");function rs(){setTimeout((function(){Zo.dispatch("save")}),1e4)}qo.a.defaults.headers.common={"X-CSRFToken":cs},Zo.subscribe((function(){var t=Date.now();window.localStorage.setItem("lastUserInput",t),(!window.localStorage.getItem("queue_for_update_start")||t-Number(window.localStorage.getItem("queue_for_update_start"))>11e3)&&(window.localStorage.setItem("queue_for_update_start",t),rs())}));var os=Object(c["c"])(To);os.use(Zo),os.use(ts["a"],{disableClick:!0}),os.use(es["a"],qo.a),os.mount("#app")},6341:function(t,e,n){},"807c":function(t,e,n){"use strict";n("40b5")},8843:function(t,e,n){"use strict";n("fbb7")},"98f3":function(t,e,n){},d380:function(t,e,n){"use strict";n("e4a7")},e4a7:function(t,e,n){},f1a8:function(t,e,n){"use strict";n("6341")},fbb7:function(t,e,n){}});
//# sourceMappingURL=app.js.map