var te=Object.defineProperty;var G=Object.getOwnPropertySymbols;var se=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var H=(a,o,e)=>o in a?te(a,o,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[o]=e,O=(a,o)=>{for(var e in o||(o={}))se.call(o,e)&&H(a,e,o[e]);if(G)for(var e of G(o))ae.call(o,e)&&H(a,e,o[e]);return a};import{d as I,u as T,r as A,c as C,o as r,a as u,b as t,w as le,v as oe,e as l,i as E,f as B,g as M,F as g,h as w,T as J,p as P,j as X,n as N,t as k,k as Z,l as j,m as re,q as ee,s as $,x as ne,Q as U,_ as ue,y as ie,z as K,G as ce,Y as de,A as fe,B as pe,K as _e,C as ve,D as xe,E as me,H as he,I as q,J as ye,L as be,M as ge}from"./vendor.js";var V=(a,o)=>{const e=a.__vccOpts||a;for(const[n,s]of o)e[n]=s;return e};const we=a=>(P("data-v-6675c608"),a=a(),X(),a),ke={class:"flex-col flex gap-3 h-full"},$e={class:"search-tab w-full mt-4 relative px-2"},Me=we(()=>t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-auto"},[t("svg",{class:"absolute h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),Ce=["onClick"],ze={class:"w-full"},Ee={class:""},Be=I({props:{tab:null},emits:["update"],setup(a,{emit:o}){const e=a,n=T();function s(m){o("update",m)}let f=A(""),p=C(()=>Object.values(n.state.manufacturers).filter(m=>m.name.toLowerCase().startsWith(f.value.toLowerCase())));return(m,_)=>(r(),u("div",ke,[t("div",$e,[Me,le(t("input",{"onUpdate:modelValue":_[0]||(_[0]=c=>E(f)?f.value=c:f=c),type:"text",class:"font-sans block w-full pl-10 py-2 px-3 ring-1 ring-palette_olive/[0.4] rounded-xl accent-palette_accent"},null,512),[[oe,l(f)]])]),B(J,{class:"result-tab flex flex-1 flex-col w-full mx-auto gap-3 xl:gap-0 xl:divide-y pl-1 pr-1 xl:pr-0 pt-2 overflow-x-hidden",name:"list",tag:"div"},{default:M(()=>[(r(!0),u(g,null,w(l(p),c=>(r(),u("div",{type:"button",class:N(["last:flex last:flex-grow ring-1 xl:ring-0 rounded-xl xl:rounded-none transition-color duration-100 text-xl font-sans",[c.name===e.tab?"":"text-gray-500 border-r-2"]]),key:c.id,onClick:i=>s(c.name)},[t("div",ze,[t("div",{class:N(["w-full text-left pl-3 py-2 h-content hover:shadow-md hover:text-gray-700 xl:hover:bg-sky-100 active:contrast-125 xl:active:contrast-135 transition-all transition-ease duration-100",[c.name===e.tab?"white text-black shadow-xl border-l-4 border-l-blue-400 borter-t-0 translate-x-1":"text-gray-500"]])},[t("span",Ee,k(c.name),1)],2)])],10,Ce))),128))]),_:1})]))}});var W=V(Be,[["__scopeId","data-v-6675c608"]]);const Q={q:"\u0439",w:"\u0446",e:"\u0443",r:"\u043A",t:"\u0435",y:"\u043D",u:"\u0433",i:"\u0448",o:"\u0449",p:"\u0437","[":"\u0445","{":"\u0425","]":"\u044A","}":"\u042A","|":"/","`":"\u0451","~":"\u0401",a:"\u0444",s:"\u044B",d:"\u0432",f:"\u0430",g:"\u043F",h:"\u0440",j:"\u043E",k:"\u043B",l:"\u0434",";":"\u0436",":":"\u0416","'":"\u044D",'"':"\u042D",z:"\u044F",x:"\u0447",c:"\u0441",v:"\u043C",b:"\u0438",n:"\u0442",m:"\u044C",",":"\u0431","<":"\u0411",".":"\u044E",">":"\u042E","/":".","?":",","@":'"',"#":"\u2116",$:";","^":":","&":"?"},Ae=()=>{const a={};return Object.entries(Q).forEach(o=>{const[e,n]=o;a[n]=e}),{dict:Q,reverse:a}};var Y=Ae();const Ie={key:0,class:"overflow-x-auto border-slate-300 h-full w-full max-w-[60vw] border-x"},De={class:"table-auto border-separate h-content overflow-hidden xl:border-t"},Se={key:0,class:"sticky top-0 shadow-sm"},je={class:"first:bg-[#26a69a] first:text-white text-slate-600 last:bg-white bg-[#26a69a]/10 last:text-black sticky top-0"},Te=["colspan","rowspan"],Fe={key:1,class:"card-stones px-3 gap-3 before:box-inherit after:box-inherit box-border flex flex-row w-full lg:max-w-[60vw]"},Le={class:"card-column flex flex-col flex-grow"},Oe={class:"card font-sans ring-1 ring-unirock/30 shadow-md w-fill rounded-xl py-3 px-5 flex flex-col mb-3 last:mb-0"},qe={class:"card-header w-fit self-end"},Ve={class:"text-xl font-semibold"},Re={class:"text-right text-sm text-gray-400"},Ge={class:"mt-1 border-t border-slate-600"},He={class:"table-fixed w-full"},Ne={class:"text-left text-[0.7rem] font-sans py-2"},Ue={class:"last:after:content-['\u043C\u043C']"},Ke={class:"text-right"},We=I({props:{columns:null,source:null,filter:null,currency:null,multiplier:null},setup(a){const o=a,e=Z("tailwind"),n={name:{"text-align":"left","font-weight":550}},s=C(()=>{const i=new Map;i.map=new Map;let y=o.columns,v=0;if(y.length){for(;;){const d=new Map;let b=0,x=[];if(y.forEach(h=>{let D=`${b++}${h.prop}`||`${b++}${h.name}`;d.set(D,h),h.children!==void 0?x=x.concat(...h.children):h.prop!==void 0&&i.map.set(h.prop,"_")}),i.set(v++,d),x.length==0)break;y=x}return i}else{const d=new Map;return d.map=new Map,d}}),f=C(()=>{const i=o.filter,y=[],v=[];Array.from(i).forEach(x=>{y.push(Y.dict[x]),v.push(Y.reverse[x])});const d=y.join("")||"_",b=v.join("")||"_";return{filter:i,reverse:b,translit:d}}),p=C(()=>{const{filter:i,translit:y,reverse:v}=f.value;let d,b=0;return e.xl&&s.value.map.size<10?d=[]:e.sm?d=[[],[]]:d=[[]],o.source.forEach(x=>{const[h,D]=[x.code!==null?x.code.toLowerCase():"",x.name.toLowerCase()];if([D,h].some(z=>[z].concat(...z.split(" ")).some(L=>[i,y,v].some(S=>L.startsWith(S)))))if(!e.xl||s.value.map.size>10){const z={configurations:{}};Object.entries(x).forEach(L=>{const[S,R]=L;["code","name"].includes(S)?z[S]=R:z.configurations[S]=R}),e.sm?d[b++%2].push(z):d[0].push(z)}else d.push(x)}),d}),m=C(()=>s.value.size>0?new Map([...s.value].filter(i=>new Set([...i[1].values()].map(v=>v.name)).size>1)):new Map);let _=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0});function c(i){return _.format(Number(i)*o.currency*o.multiplier)}return(i,y)=>l(e).xl&&l(s).map.size<10?(r(),u("div",Ie,[t("table",De,[l(s).keys()?(r(),u("thead",Se,[l(s).values()?(r(!0),u(g,{key:0},w(l(m).values(),v=>(r(),u("tr",je,[(r(!0),u(g,null,w(v.values(),d=>(r(),u("td",{colspan:d.colspan||1,class:"border-r last:border-r-0 border-b text-inherit bg-inherit px-5 font-sans border-slate-400/[0.8] font-semibold sticky top-0",rowspan:d.children?1:3},k(d.name),9,Te))),256))]))),256)):j("",!0)])):j("",!0),B(J,{name:"list",tag:"tbody",class:""},{default:M(()=>[(r(!0),u(g,null,w(l(p),v=>(r(),u("tr",{class:"even:bg-[#ddf2f0] odd:bg-white hover:bg-sky-200",key:v.name},[(r(!0),u(g,null,w(l(s).map.keys(),d=>(r(),u("td",{class:"bg-inherit border-r last:border-r-0 px-5 font-sans border-t border-[#e2e3e3]",key:d,style:re(n[d])},k(typeof v[d]=="number"?c(v[d]):v[d]||"-"),5))),128))]))),128))]),_:1})])])):(r(),u("div",Fe,[(r(!0),u(g,null,w(Array(l(e).sm?2:1),(v,d)=>(r(),u("div",Le,[(r(!0),u(g,null,w(l(p)[d],b=>(r(),u("div",Oe,[t("div",qe,[t("div",Ve,k(b.name),1),t("div",Re,k(b.code),1)]),t("div",Ge,[t("table",He,[t("tbody",null,[(r(!0),u(g,null,w(b.configurations,(x,h)=>(r(),u("tr",{key:h,class:"border-b last:border-b-0"},[t("td",Ne,[(r(!0),u(g,null,w(h.split(" "),D=>(r(),u("div",Ue,k(D),1))),256))]),t("td",Ke,k(c(x)),1)]))),128))])])])]))),256))]))),256))]))}});var Qe=V(We,[["__scopeId","data-v-bb982780"]]);const Ye=a=>(P("data-v-1c666e2a"),a=a(),X(),a),Je={class:"relative flex flex-col gap-y-3 w-full xl:px-3 mb-10"},Pe={class:"searchcontainer px-3 flex flex-col xl:flex-row gap-5"},Xe={class:"search-tab mt-4 relative w-full xl:w-80 mx-auto xl:mx-0 max-w-80 h-100 flex"},Ze=Ye(()=>t("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-auto"},[t("svg",{class:"absolute h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[t("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),et=["value"],tt={class:"currency-data flex self-end place-self-end"},st={class:"currency-source font-sans"},at=I({props:{manufacturer:null},setup(a,{expose:o}){const e=a,n=T();let s=C(()=>n.state.manufacturers[e.manufacturer]||{stones:[],schema:[],applied_currency:{source:"",value:1},additional_info:{},multipliers:1}),f=A("");const p=A();function m(_){(_.key=="F3"||_.ctrlKey&&_.code=="KeyF")&&(_.preventDefault(),p.value.focus()),_.key=="Escape"&&(document.activeElement===p.value?p.value.blur():f.value="")}return ee(()=>{window.addEventListener("keydown",m)}),o({stonesearch:p}),(_,c)=>(r(),u("div",Je,[t("div",Pe,[t("div",Xe,[Ze,t("input",{id:"search",ref_key:"stonesearch",ref:p,placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u0430\u043C\u043D\u044F",type:"search",class:"font-sans block w-full pl-10 py-2 ring-1 rounded-lg accent-palette_accent",value:l(f),onInput:c[0]||(c[0]=i=>E(f)?f.value=i.target.value:f=i.target.value)},null,40,et)]),t("div",tt,[t("div",st,"\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u043A\u0443\u0440\u0441\u0430: "+k(l(s).applied_currency.source),1)])]),(r(),$(Qe,{class:"w-full",columns:l(s).schema,source:l(s).stones,filter:l(f).toLowerCase(),currency:l(s).applied_currency.value,multiplier:l(s).multipliers,key:a.manufacturer},null,8,["columns","source","filter","currency","multiplier"]))]))}});var lt=V(at,[["__scopeId","data-v-1c666e2a"]]);const ot={key:0,class:"px-3 font-sans divide-y divide-slate-500"},rt=t("p",{class:"text-2xl font-semibold mb-5"},"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",-1),nt={key:0,class:"flex flex-col divide-y gap-2"},ut=["src"],it={class:"flex py-10 w-full"},ct=["src"],dt=["innerHTML"],ft=I({props:{manufacturer:null},setup(a){const o=a,e=T();let n=C(()=>e.state.manufacturers[o.manufacturer]||{additional_info:{images:[],text:""}});const s=A(!1);return(f,p)=>l(n).additional_info.images.length||l(n).text?(r(),u("div",ot,[rt,l(n).additional_info.images.length?(r(),u("div",nt,[(r(!0),u(g,null,w(l(n).additional_info.images,m=>(r(),u("div",{class:"image-continer py-3 px-2 hover:bg-sky-100",onClick:p[1]||(p[1]=_=>s.value=!0)},[t("img",{class:"float-left",src:m.thumbnail},null,8,ut),(r(),$(ne,{to:"body"},[s.value?(r(),u("div",{key:0,class:"fixed z-[100] top-0 w-screen h-screen flex bg-[rgb(0,0,0,0.6)]",onClick:p[0]||(p[0]=_=>s.value=!1)},[t("div",it,[t("img",{class:"mx-auto z-[200]",src:m.image},null,8,ct)])])):j("",!0)])),t("div",null,k(m.text),1)]))),256))])):j("",!0),t("p",{class:"w-100 pt-2",innerHTML:l(n).additional_info.text},null,8,dt)])):j("",!0)}}),pt={class:""},_t={class:"min-h-screen px-4 text-center fixed lg:inset-0 z-40"},vt=t("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"},"\u200B",-1),xt={class:"overflow-y-auto overflow-x-hidden inline-block w-full fixed lg:relative top-0 left-0 lg:top-auto lg:left-auto h-screen lg:max-h-[90vh] lg:md:max-w-[45vw] lg:min-h-[70vh] p-6 text-left lg:align-middle transition-all transform bg-white shadow-xl lg:rounded-2xl"},mt={class:"flex flex-grow"},ht=t("button",{class:"h-full rounded-full focus:outline-none"},[t("svg",{class:"h-6 w-6 text-gray-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[t("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),t("line",{x1:"6",y1:"6",x2:"18",y2:"18"})])],-1),yt=[ht],bt={class:"dialog-body border-t border-slate-700"},gt=I({props:{open:{type:Boolean}},emits:["setIsOpen"],setup(a,{emit:o}){const e=a;function n(s){o("setIsOpen",s)}return(s,f)=>(r(),$(l(de),{appear:"",show:e.open,as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:M(()=>[B(l(ce),{open:e.open,onClose:n},{default:M(()=>[t("div",pt,[t("div",_t,[B(l(U),{as:"template",enter:"duration-200 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-100 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:M(()=>[B(l(ue),{class:"fixed inset-0 bg-black opacity-30"})]),_:1}),vt,B(l(U),{as:"template",enter:"duration-200 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-100 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:M(()=>[t("div",xt,[B(l(ie),{as:"h3",class:"text-2xl font-medium leading-6 mb-4 text-gray-900 flex flex-row gap-3 place-items-center"},{default:M(()=>[t("div",mt,[K(s.$slots,"title")]),t("div",{class:"flex align-middle",onClick:f[0]||(f[0]=p=>n(!1))},yt)]),_:3}),t("div",bt,[K(s.$slots,"body")])])]),_:3})])])]),_:3},8,["open"])]),_:3},8,["show"]))}}),wt={class:"flex flex-col xl:flex-row mx-auto"},kt={class:"manufacturer-nav mb-2 xl:mb-0 sticky flex flex-col min-w-[250px] xl:h-screen top-0 overflow-y-auto border-slate-600 z-20"},$t={class:"gap-y-2 flex-col flex pt-[1px] bg-white xl:h-screen"},Mt={class:"xl:hidden"},Ct={class:"nav flex flex-row gap-2 place-items-center border-b p-3 h-12 w-full"},zt={class:"text-xl flex-grow text-left"},Et=t("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})],-1),Bt=[Et],At=ve("\u041F\u0440\u043E\u0438\u0437\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u0438"),It=t("svg",{class:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),Dt=[It],St=I({setup(a){const o=fe(),e=pe();let n=A(!1),s=A("Avant");C({get(){return o.query.manufacturer||"Avant"},set(_){const c=Object.assign({},{manufacturer:_});e.push({query:c})}});const f=A({});function p(){console.log(f.value),f.value.stonesearch.focus()}const m=Z("tailwind");return(_,c)=>(r(),u("div",wt,[t("div",kt,[t("div",$t,[t("div",Mt,[t("div",Ct,[t("div",zt,k(l(s)),1),t("div",{type:"button",id:"mobile-func-header",class:"show-manufacturers rounded-full p-1",onClick:c[0]||(c[0]=i=>E(n)?n.value=!l(n):n=!l(n))},Bt)])]),l(m).xl?(r(),$(W,{key:0,tab:l(s),onUpdate:c[1]||(c[1]=i=>E(s)?s.value=i:s=i)},null,8,["tab"])):(r(),$(gt,{key:1,open:l(n),onSetIsOpen:c[3]||(c[3]=i=>E(n)?n.value=i:n=i)},{title:M(()=>[At]),body:M(()=>[(r(),$(_e,null,[(r(),$(W,{tab:l(s),key:l(s),onUpdate:c[2]||(c[2]=i=>{E(s)?s.value=i:s=i,E(n)?n.value=!1:n=!1})},null,8,["tab"]))],1024))]),_:1},8,["open"]))])]),(r(),$(lt,{ref_key:"table_c",ref:f,manufacturer:l(s),key:l(s)},null,8,["manufacturer"])),(r(),$(ft,{class:"flex-col flex-grow sticky top-0 right-0 hidden xl:flex w-fit",manufacturer:l(s),key:l(s)},null,8,["manufacturer"])),t("a",{href:"#top",class:"xl:hidden fixed bottom-7 right-3 p-3 bg-blue-500 rounded-full",onClick:c[4]||(c[4]=()=>p())},Dt)]))}}),jt=[{path:"/",name:"Home",component:St}],Tt=xe({history:me("/pricelist/quartz/"),routes:jt});var Ft=he({state:{manufacturers:[]},mutations:{setManufacturers(a,o){a.manufacturers=Object.assign({},...o.map(e=>({[e.name]:e})))},addManufacturers(a,o){o.forEach(e=>{a.manufacturers[e.name]=O(O({},a.manufacturers[e.name]),e)})}},actions:{async hydrate({commit:a,dispatch:o}){q.post("manufacturers/").then(e=>(a("setManufacturers",e.data),e.data)).then(e=>e.forEach(n=>o("loadManufacturer",n.name)))},async loadManufacturer({state:a,commit:o},e){Array.isArray(e)||(e=[e]),e=e.filter(n=>!a.manufacturers[n].stones.length),e.length&&q.post("manufacturer/",{manufacturers:e}).then(n=>{o("addManufacturers",n.data)})}},getters:{isDesktop(){return window.matchMedia("(min-width: 1024px)").matches}}});const Lt=I({setup(a){const o=T();return ee(async()=>{o.dispatch("hydrate")}),(e,n)=>{const s=ye("router-view");return r(),$(s)}}});const F=be(Lt);F.use(ge,q);F.use(Tt);F.use(Ft);F.mount("#app");
