var ue=Object.defineProperty;var H=Object.getOwnPropertySymbols;var ie=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable;var N=(l,a,t)=>a in l?ue(l,a,{enumerable:!0,configurable:!0,writable:!0,value:t}):l[a]=t,q=(l,a)=>{for(var t in a||(a={}))ie.call(a,t)&&N(l,t,a[t]);if(H)for(var t of H(a))ce.call(a,t)&&N(l,t,a[t]);return l};import{d as A,u as L,r as E,c as z,o,a as c,b as e,w as de,v as fe,e as s,i as M,f as B,g,F as k,h as $,T as Z,p as ee,j as te,n as U,t as C,k as se,l as T,m as pe,q as le,s as b,x as V,y as _e,Q as K,_ as ve,z as xe,G as he,Y as me,A as ye,B as be,K as W,C as oe,D as ge,E as we,H as ke,I as R,J as $e,L as Ce,M as Me}from"./vendor.js";var G=(l,a)=>{const t=l.__vccOpts||l;for(const[n,r]of a)t[n]=r;return t};const Ee=l=>(ee("data-v-4035ad46"),l=l(),te(),l),ze={class:"flex-col flex gap-3 h-full"},Be={class:"search-tab w-full mt-4 relative px-2"},Ae=Ee(()=>e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-auto"},[e("svg",{class:"absolute h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),De=["onClick"],Ie={class:"w-full"},Fe={class:""},Se=A({props:{tab:null},emits:["update"],setup(l,{emit:a}){const t=l,n=L();function r(y){a("update",y)}let u=E(""),p=z(()=>Object.values(n.state.manufacturers).filter(y=>y.name.toLowerCase().startsWith(u.value.toLowerCase())));return(y,x)=>(o(),c("div",ze,[e("div",Be,[Ae,de(e("input",{"onUpdate:modelValue":x[0]||(x[0]=_=>M(u)?u.value=_:u=_),type:"text",class:"font-sans block w-full pl-10 py-2 px-3 ring-1 ring-palette_olive/[0.4] rounded-xl accent-palette_accent"},null,512),[[fe,s(u)]])]),B(Z,{class:"result-tab flex flex-1 flex-col w-full mx-auto gap-3 xl:gap-0 xl:divide-y pl-1 pr-1 xl:pr-0 pt-2 overflow-x-hidden",name:"list",tag:"div"},{default:g(()=>[(o(!0),c(k,null,$(s(p),_=>(o(),c("div",{type:"button",class:U(["last:flex last:flex-grow ring-1 ring-inset xl:ring-0 rounded-xl xl:rounded-none transition-color duration-100 text-xl font-sans hover:shadow-md lg:shadow-none",[_.name===t.tab?"ring-unirock xl:ring-sky-400":"text-gray-500 border-r-2  "]]),key:_.id,onClick:i=>r(_.name)},[e("div",Ie,[e("div",{class:U(["w-full text-left pl-3 py-2 h-content xl:hover:shadow-md hover:text-gray-700 xl:hover:bg-sky-100 active:contrast-135 transition-all transition-ease duration-100",[_.name===t.tab?"white text-black xl:shadow-xl xl:border-l-4 xl:border-l-blue-400 borter-t-0 translate-x-1":"text-gray-500"]])},[e("span",Fe,C(_.name),1)],2)])],10,De))),128))]),_:1})]))}});var Q=G(Se,[["__scopeId","data-v-4035ad46"]]);const Y={" ":" ",q:"\u0439",w:"\u0446",e:"\u0443",r:"\u043A",t:"\u0435",y:"\u043D",u:"\u0433",i:"\u0448",o:"\u0449",p:"\u0437","[":"\u0445","{":"\u0425","]":"\u044A","}":"\u042A","|":"/","`":"\u0451","~":"\u0401",a:"\u0444",s:"\u044B",d:"\u0432",f:"\u0430",g:"\u043F",h:"\u0440",j:"\u043E",k:"\u043B",l:"\u0434",";":"\u0436",":":"\u0416","'":"\u044D",'"':"\u042D",z:"\u044F",x:"\u0447",c:"\u0441",v:"\u043C",b:"\u0438",n:"\u0442",m:"\u044C",",":"\u0431","<":"\u0411",".":"\u044E",">":"\u042E","/":".","?":",","@":'"',"#":"\u2116",$:";","^":":","&":"?"},je=()=>{const l={};return Object.entries(Y).forEach(a=>{const[t,n]=a;l[n]=t}),{dict:Y,reverse:l}};var J=je();const Te={key:0,class:"overflow-x-auto border-slate-300 h-full w-full max-w-[60vw] border-x"},Le={class:"table-auto border-separate h-content overflow-hidden xl:border-t"},Oe={key:0,class:"sticky top-0 shadow-sm"},qe={class:"first:bg-[#26a69a] first:text-white text-slate-600 last:bg-white bg-[#26a69a]/10 last:text-black sticky top-0"},Ve=["colspan","rowspan"],Re={key:1,class:"card-stones px-3 gap-3 before:box-inherit after:box-inherit box-border flex flex-row w-full xl:max-w-[60vw]"},Ge={class:"card-column flex flex-col flex-grow"},He={class:"card font-sans ring-1 ring-unirock/30 shadow-md w-fill rounded-xl py-3 px-5 flex flex-col mb-3 last:mb-0"},Ne={class:"card-header w-fit self-end"},Ue={class:"text-xl font-semibold"},Ke={class:"text-right text-sm text-gray-400"},We={class:"mt-1 border-t border-slate-600"},Qe={class:"table-fixed w-full"},Ye={class:"text-left text-[0.7rem] font-sans py-2"},Je={class:"last:after:content-['\u043C\u043C']"},Pe={class:"text-right"},Xe=A({props:{columns:null,source:null,filter:null,currency:null,multiplier:null},setup(l){const a=l,t=se("tailwind"),n={name:{"text-align":"left","font-weight":550}},r=z(()=>{const i=new Map;i.map=new Map;let d=a.columns,v=0;if(d.length){for(;;){const f=new Map;let h=0,w=[];if(d.forEach(m=>{let I=`${h++}${m.prop}`||`${h++}${m.name}`;f.set(I,m),m.children!==void 0?w=w.concat(...m.children):m.prop!==void 0&&i.map.set(m.prop,"_")}),i.set(v++,f),w.length==0)break;d=w}return i}else{const f=new Map;return f.map=new Map,f}}),u=z(()=>{const i=a.filter,d=[],v=[];Array.from(i).forEach(w=>{d.push(J.dict[w]),v.push(J.reverse[w])});const f=d.join("")||"_",h=v.join("")||"_";return{filter:i,reverse:h,translit:f}}),p=z(()=>{const{filter:i,translit:d,reverse:v}=u.value,f=i===""&&d==="_"&&v==="_";let h,w=0;return t.xl&&r.value.map.size<10?h=[]:t.sm?h=[[],[]]:h=[[]],a.source.forEach(m=>{const[I,ae]=[m.code!==null?m.code.toLowerCase():"",m.name.toLowerCase()];if(f||[ae,I].some(D=>[i,d,v].filter(F=>F.replaceAll(" ","")!=="").some(F=>{let S=D.split(" "),j=F.split(" ");return j.length===j.filter(ne=>S.some(re=>re.startsWith(ne))).length})))if(!t.xl||r.value.map.size>9){const D={configurations:{}};Object.entries(m).forEach(F=>{const[S,j]=F;["code","name"].includes(S)?D[S]=j:D.configurations[S]=j}),t.sm?h[w++%2].push(D):h[0].push(D)}else h.push(m)}),h}),y=z(()=>r.value.size>0?new Map([...r.value].filter(i=>new Set([...i[1].values()].map(v=>v.name)).size>1)):new Map);let x=new Intl.NumberFormat("ru-RU",{style:"currency",currency:"RUB",maximumFractionDigits:0});function _(i){return x.format(Number(i)*a.currency*a.multiplier)}return(i,d)=>s(t).xl&&s(r).map.size<10?(o(),c("div",Te,[e("table",Le,[s(r).keys()?(o(),c("thead",Oe,[s(r).values()?(o(!0),c(k,{key:0},$(s(y).values(),v=>(o(),c("tr",qe,[(o(!0),c(k,null,$(v.values(),f=>(o(),c("td",{colspan:f.colspan||1,class:"border-r last:border-r-0 border-b text-inherit bg-inherit px-5 font-sans border-slate-400/[0.8] font-semibold sticky top-0",rowspan:f.children?1:3},C(f.name),9,Ve))),256))]))),256)):T("",!0)])):T("",!0),B(Z,{name:"list",tag:"tbody",class:""},{default:g(()=>[(o(!0),c(k,null,$(s(p),v=>(o(),c("tr",{class:"even:bg-[#ddf2f0] odd:bg-white hover:bg-sky-200",key:v.name},[(o(!0),c(k,null,$(s(r).map.keys(),f=>(o(),c("td",{class:"bg-inherit border-r last:border-r-0 px-5 font-sans border-t border-[#e2e3e3]",key:f,style:pe(n[f])},C(typeof v[f]=="number"?_(v[f]):v[f]||"-"),5))),128))]))),128))]),_:1})])])):(o(),c("div",Re,[(o(!0),c(k,null,$(Array(s(t).sm?2:1),(v,f)=>(o(),c("div",Ge,[(o(!0),c(k,null,$(s(p)[f],h=>(o(),c("div",He,[e("div",Ne,[e("div",Ue,C(h.name),1),e("div",Ke,C(h.code),1)]),e("div",We,[e("table",Qe,[e("tbody",null,[(o(!0),c(k,null,$(h.configurations,(w,m)=>(o(),c("tr",{key:m,class:"border-b last:border-b-0"},[e("td",Ye,[(o(!0),c(k,null,$(m.split(" "),I=>(o(),c("div",Je,C(I),1))),256))]),e("td",Pe,C(_(w)),1)]))),128))])])])]))),256))]))),256))]))}});var Ze=G(Xe,[["__scopeId","data-v-b94b120c"]]);const et=l=>(ee("data-v-1c666e2a"),l=l(),te(),l),tt={class:"relative flex flex-col gap-y-3 w-full xl:px-3 mb-10"},st={class:"searchcontainer px-3 flex flex-col xl:flex-row gap-5"},lt={class:"search-tab mt-4 relative w-full xl:w-80 mx-auto xl:mx-0 max-w-80 h-100 flex"},ot=et(()=>e("div",{class:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-auto"},[e("svg",{class:"absolute h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"})])],-1)),at=["value"],nt={class:"currency-data flex self-end place-self-end"},rt={class:"currency-source font-sans"},ut=A({props:{manufacturer:null},setup(l,{expose:a}){const t=l,n=L();let r=z(()=>n.state.manufacturers[t.manufacturer]||{stones:[],schema:[],applied_currency:{source:"",value:1},additional_info:{},multipliers:1}),u=E("");const p=E();function y(x){(x.key=="F3"||x.ctrlKey&&x.code=="KeyF")&&(x.preventDefault(),p.value.focus()),x.key=="Escape"&&(document.activeElement===p.value?p.value.blur():u.value="")}return le(()=>{window.addEventListener("keydown",y)}),a({stonesearch:p}),(x,_)=>(o(),c("div",tt,[e("div",st,[e("div",lt,[ot,e("input",{id:"search",ref_key:"stonesearch",ref:p,placeholder:"\u0432\u0432\u0435\u0434\u0438\u0442\u0435 \u043D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043A\u0430\u043C\u043D\u044F",type:"search",class:"font-sans block w-full pl-10 py-2 ring-1 rounded-lg accent-palette_accent",value:s(u),onInput:_[0]||(_[0]=i=>M(u)?u.value=i.target.value:u=i.target.value)},null,40,at)]),e("div",nt,[e("div",rt,"\u0418\u0441\u0442\u043E\u0447\u043D\u0438\u043A \u043A\u0443\u0440\u0441\u0430: "+C(s(r).applied_currency.source),1)])]),(o(),b(Ze,{class:"w-full",columns:s(r).schema,source:s(r).stones,filter:s(u).toLowerCase(),currency:s(r).applied_currency.value,multiplier:s(r).multipliers,key:l.manufacturer},null,8,["columns","source","filter","currency","multiplier"]))]))}});var it=G(ut,[["__scopeId","data-v-1c666e2a"]]);const ct={key:0,class:"px-3 font-sans divide-y divide-slate-500"},dt={key:0,class:"flex flex-col divide-y gap-2"},ft=["src"],pt={class:"flex py-10 w-full"},_t=["src"],vt=["innerHTML"],P=A({props:{manufacturer:null},setup(l){const a=l,t=L();let n=z(()=>t.state.manufacturers[a.manufacturer]||{additional_info:{images:[],text:""}});const r=E(!1);return(u,p)=>s(n).additional_info.images.length||s(n).additional_info.text?(o(),c("div",ct,[V(u.$slots,"default"),s(n).additional_info.images.length?(o(),c("div",dt,[(o(!0),c(k,null,$(s(n).additional_info.images,y=>(o(),c("div",{class:"image-continer py-3 px-2 hover:bg-sky-100",onClick:p[1]||(p[1]=x=>r.value=!0)},[e("img",{class:"float-left",src:y.thumbnail},null,8,ft),(o(),b(_e,{to:"body"},[r.value?(o(),c("div",{key:0,class:"fixed z-[100] top-0 w-screen h-screen flex bg-[rgb(0,0,0,0.6)]",onClick:p[0]||(p[0]=x=>r.value=!1)},[e("div",pt,[e("img",{class:"mx-auto z-[200]",src:y.image},null,8,_t)])])):T("",!0)])),e("div",null,C(y.text),1)]))),256))])):T("",!0),e("p",{class:"w-100 pt-2",innerHTML:s(n).additional_info.text},null,8,vt)])):T("",!0)}}),xt={class:""},ht={class:"min-h-screen px-4 text-center fixed lg:inset-0 z-40"},mt=e("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"},"\u200B",-1),yt={class:"overflow-y-auto overflow-x-hidden inline-block w-full fixed lg:relative top-0 left-0 lg:top-auto lg:left-auto h-screen lg:max-h-[90vh] lg:md:max-w-[45vw] lg:min-h-[70vh] p-6 text-left lg:align-middle transition-all transform bg-white shadow-xl lg:rounded-2xl"},bt={class:"flex flex-grow"},gt=e("button",{class:"h-full rounded-full focus:outline-none"},[e("svg",{class:"h-6 w-6 text-gray-300",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),e("line",{x1:"6",y1:"6",x2:"18",y2:"18"})])],-1),wt=[gt],kt={class:"dialog-body border-t border-slate-700"},X=A({props:{open:{type:Boolean}},emits:["setIsOpen"],setup(l,{emit:a}){const t=l;function n(r){a("setIsOpen",r)}return(r,u)=>(o(),b(s(me),{appear:"",show:t.open,as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>[B(s(he),{open:t.open,onClose:n},{default:g(()=>[e("div",xt,[e("div",ht,[B(s(K),{as:"template",enter:"duration-200 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-100 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:g(()=>[B(s(ve),{class:"fixed inset-0 bg-black opacity-30"})]),_:1}),mt,B(s(K),{as:"template",enter:"duration-200 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-100 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:g(()=>[e("div",yt,[B(s(xe),{as:"h3",class:"text-2xl font-medium leading-6 mb-4 text-gray-900 flex flex-row gap-3 place-items-center"},{default:g(()=>[e("div",bt,[V(r.$slots,"title")]),e("div",{class:"flex align-middle",onClick:u[0]||(u[0]=p=>n(!1))},wt)]),_:3}),e("div",kt,[V(r.$slots,"body")])])]),_:3})])])]),_:3},8,["open"])]),_:3},8,["show"]))}}),$t={class:"flex flex-col xl:flex-row mx-auto h-full"},Ct={class:"manufacturer-nav mb-2 xl:mb-0 sticky flex flex-col min-w-[250px] xl:h-screen top-0 overflow-y-auto border-slate-600 z-20"},Mt={class:"gap-y-2 flex-col flex pt-[1px] bg-white xl:h-screen"},Et={class:"xl:hidden"},zt={class:"nav flex flex-row gap-2 place-items-center border-b p-3 h-12 w-full"},Bt={class:"text-xl flex-grow text-left"},At=e("svg",{class:"h-6 w-6",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("circle",{cx:"12",cy:"12",r:"10"}),e("line",{x1:"12",y1:"16",x2:"12",y2:"12"}),e("line",{x1:"12",y1:"8",x2:"12.01",y2:"8"})],-1),Dt=[At],It=e("svg",{class:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M7 16V4m0 0L3 8m4-4l4 4m6 0v12m0 0l4-4m-4 4l-4-4"})],-1),Ft=[It],St=oe("\u041F\u0440\u043E\u0438\u0437\u0432\u043E\u0434\u0438\u0442\u0435\u043B\u0438"),jt=e("p",{class:"text-2xl font-semibold mb-5"},"\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F",-1),Tt=oe("\u0414\u043E\u043F\u043E\u043B\u043D\u0438\u0442\u0435\u043B\u044C\u043D\u0430\u044F \u0438\u043D\u0444\u043E\u0440\u043C\u0430\u0446\u0438\u044F"),Lt=e("svg",{class:"h-8 w-8 text-white",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})],-1),Ot=[Lt],qt=A({setup(l){const a=ye(),t=be();let n=E(!1),r=E(!1),u=E("Avant");z({get(){return a.query.manufacturer||"Avant"},set(_){const i=Object.assign({},{manufacturer:_});t.push({query:i})}});const p=E({});function y(){console.log(p.value),p.value.stonesearch.focus()}const x=se("tailwind");return(_,i)=>(o(),c("div",$t,[e("div",Ct,[e("div",Mt,[e("div",Et,[e("div",zt,[e("div",Bt,C(s(u)),1),e("div",{type:"button",class:"show-manufacturers rounded-full p-1",onClick:i[0]||(i[0]=d=>M(r)?r.value=!s(n):r=!s(n))},Dt),e("div",{type:"button",id:"mobile-func-header",class:"show-manufacturers rounded-full p-1",onClick:i[1]||(i[1]=d=>M(n)?n.value=!s(n):n=!s(n))},Ft)])]),s(x).xl?(o(),b(Q,{key:0,tab:s(u),onUpdate:i[2]||(i[2]=d=>M(u)?u.value=d:u=d)},null,8,["tab"])):(o(),b(X,{key:1,open:s(n),onSetIsOpen:i[4]||(i[4]=d=>M(n)?n.value=d:n=d)},{title:g(()=>[St]),body:g(()=>[(o(),b(W,null,[(o(),b(Q,{tab:s(u),key:s(u),onUpdate:i[3]||(i[3]=d=>{M(u)?u.value=d:u=d,M(n)?n.value=!1:n=!1})},null,8,["tab"]))],1024))]),_:1},8,["open"]))])]),(o(),b(it,{ref_key:"table_c",ref:p,manufacturer:s(u),key:s(u)},null,8,["manufacturer"])),s(x).xl?(o(),b(P,{class:"info flex-col flex-grow sticky top-0 right-0 flex w-fit xl:h-screen overflow-y-auto",manufacturer:s(u),key:s(u)},{default:g(()=>[jt]),_:1},8,["manufacturer"])):(o(),b(X,{key:1,open:s(r),onSetIsOpen:i[5]||(i[5]=d=>M(r)?r.value=d:r=d)},{title:g(()=>[Tt]),body:g(()=>[(o(),b(W,null,[(o(),b(P,{class:"info flex-col flex-grow w-fit",manufacturer:s(u),key:s(u)},null,8,["manufacturer"]))],1024))]),_:1},8,["open"])),e("a",{href:"#top",class:"xl:hidden fixed bottom-7 right-3 p-3 bg-blue-500 rounded-full",onClick:i[6]||(i[6]=()=>y())},Ot)]))}}),Vt=[{path:"/",name:"Home",component:qt}],Rt=ge({history:we("/pricelist/quartz/"),routes:Vt});var Gt=ke({state:{manufacturers:[]},mutations:{setManufacturers(l,a){l.manufacturers=Object.assign({},...a.map(t=>({[t.name]:t})))},addManufacturers(l,a){a.forEach(t=>{l.manufacturers[t.name]=q(q({},l.manufacturers[t.name]),t)})}},actions:{async hydrate({commit:l,dispatch:a}){R.post("manufacturers/").then(t=>(l("setManufacturers",t.data),t.data)).then(t=>t.forEach(n=>a("loadManufacturer",n.name)))},async loadManufacturer({state:l,commit:a},t){Array.isArray(t)||(t=[t]),t=t.filter(n=>!l.manufacturers[n].stones.length),t.length&&R.post("manufacturer/",{manufacturers:t}).then(n=>{a("addManufacturers",n.data)})}},getters:{isDesktop(){return window.matchMedia("(min-width: 1024px)").matches}}});const Ht=A({setup(l){const a=L();return le(async()=>{a.dispatch("hydrate")}),(t,n)=>{const r=$e("router-view");return o(),b(r)}}});const O=Ce(Ht);O.use(Me,R);O.use(Rt);O.use(Gt);O.mount("#app");
