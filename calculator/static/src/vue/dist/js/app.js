(function(t){function e(e){for(var a,o,s=e[0],l=e[1],u=e[2],i=0,b=[];i<s.length;i++)o=s[i],Object.prototype.hasOwnProperty.call(c,o)&&c[o]&&b.push(c[o][0]),c[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);d&&d(e);while(b.length)b.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,o=1;o<n.length;o++){var l=n[o];0!==c[l]&&(a=!1)}a&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},c={app:0},r=[];function o(t){return s.p+"js/"+({}[t]||t)+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n=c[t];if(0!==n)if(n)e.push(n[2]);else{var a=new Promise((function(e,a){n=c[t]=[e,a]}));e.push(n[2]=a);var r,l=document.createElement("script");l.charset="utf-8",l.timeout=120,s.nc&&l.setAttribute("nonce",s.nc),l.src=o(t);var u=new Error;r=function(e){l.onerror=l.onload=null,clearTimeout(i);var n=c[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",u.name="ChunkLoadError",u.type=a,u.request=r,n[1](u)}c[t]=void 0}};var i=setTimeout((function(){r({type:"timeout",target:l})}),12e4);l.onerror=l.onload=r,document.head.appendChild(l)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/static/src/vue/dist/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var i=0;i<l.length;i++)e(l[i]);var d=u;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},4003:function(t,e,n){"use strict";n("98f3")},"56d7":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"materialPrice",(function(){return zo})),n.d(a,"wallpanel_length",(function(){return Eo})),n.d(a,"ladder",(function(){return Uo})),n.d(a,"border",(function(){return Jo})),n.d(a,"edge",(function(){return Bo})),n.d(a,"sink",(function(){return Vo})),n.d(a,"socket",(function(){return Wo})),n.d(a,"surface_docking",(function(){return Fo})),n.d(a,"cutout",(function(){return Ho})),n.d(a,"cookpanel",(function(){return Go})),n.d(a,"mounting",(function(){return Xo})),n.d(a,"delivery",(function(){return Ko})),n.d(a,"lifting",(function(){return Qo})),n.d(a,"measurement",(function(){return Yo})),n.d(a,"addon",(function(){return Zo}));var c=n("1da1"),r=(n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("96cf"),n("ac1f"),n("1276"),n("498a"),n("a9e3"),n("f2bf")),o=(n("b0c0"),{class:"row mx-0"}),s={class:"col-lg-7 gx-2 mb-5"},l={class:"infocard"},u={class:"sticky-top mb-4 bg-white border-top border-bottom"},i={class:"nav nav-pills nav-fill py-3"},d=["id","onClick","innerHTML"],b={class:"tab-content",id:"mainContent"},p=["id"],m={class:"offcanvas offcanvas-bottom h-100 border-0",tabindex:"-1",id:"offcanvas-result"},f=Object(r["g"])("div",{class:"offcanvas-header"},[Object(r["g"])("h5",{class:"offcanvas-title"},"Итог"),Object(r["g"])("button",{type:"button",class:"btn btn-primary"},"Создать КП")],-1),g={class:"offcanvas-body container"},O={class:"infocard"},j=Object(r["g"])("div",{class:"position-absolute bottom-0 start-50 translate-middle-x py-3 container bg-white border-top"},[Object(r["g"])("button",{type:"button",class:"btn btn-danger w-100","data-bs-dismiss":"offcanvas","aria-label":"Close"}," Закрыть ")],-1),v={class:"col-5 d-none d-lg-block sticky-top"},h={class:"mb-3 row g-2"},y=["value"],x={class:"card mb-2"},w={class:"card-header bg-card-even row gx-0"},k={class:"nav nav-tabs card-header-tabs col"},I=Object(r["g"])("li",{class:"nav-item"},[Object(r["g"])("button",{class:"nav-link active",id:"home-tab","data-bs-toggle":"tab","data-bs-target":"#home",type:"button",role:"tab","aria-controls":"home","aria-selected":"true"}," Итог ")],-1),_={class:"nav-item"},C={key:0,class:"nav-link",id:"salary-tab","data-bs-toggle":"tab","data-bs-target":"#salary",type:"button",role:"tab","aria-controls":"salary","aria-selected":"false"},S={class:"col-3"},L={class:"card-body px-0"},P={class:"tab-content pb-4 overflow-auto result-block"},$={class:"tab-pane fade show active",id:"home",role:"tabpanel","aria-labelledby":"home-tab"},T={class:"tab-pane fade",id:"salary",role:"tabpanel"},N={class:"fixed-bottom container d-block d-lg-none bg-white border-top pb-2"},q={class:"row py-3"},R={class:"col"},M={key:0,class:"col"};function D(t,e,n,a,c,D){var A=Object(r["q"])("result"),z=Object(r["q"])("temp-control"),E=Object(r["q"])("salary");return Object(r["l"])(),Object(r["f"])(r["a"],null,[Object(r["g"])("div",o,[Object(r["g"])("div",s,[Object(r["g"])("div",l,[Object(r["g"])("div",u,[Object(r["g"])("ul",i,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(c.tabs,(function(t){return Object(r["l"])(),Object(r["f"])("li",{class:"nav-item",key:t.component},[Object(r["g"])("button",{class:Object(r["k"])(["nav-link category-toggle",{active:t.component==c.chosenTab}]),type:"button",id:"head-".concat(t.component),onClick:function(e){return D.switchTab(t.component)},innerHTML:t.name},null,10,d)])})),128))])]),Object(r["g"])("div",b,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(c.tabs,(function(t){return Object(r["l"])(),Object(r["f"])("div",{class:Object(r["k"])(["tab-pane fade px-2 p-lg-0",{active:t.component==c.chosenTab,show:t.component==c.chosenTab}]),id:t.component,key:t.component},[(Object(r["l"])(),Object(r["d"])(Object(r["s"])(t.component),{key:t.component,onFocusCard:D.focusCard},null,8,["onFocusCard"]))],10,p)})),128))]),Object(r["g"])("div",m,[f,Object(r["g"])("div",g,[Object(r["g"])("div",O,[Object(r["i"])(A,{class:"mb-5"}),j])])])])]),Object(r["g"])("div",v,[Object(r["g"])("div",h,[Object(r["g"])("select",{class:"form-select",onChange:e[0]||(e[0]=function(e){return t.$store.dispatch("changeTemplate",e.target.value)})},[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(c.templates,(function(t){return Object(r["l"])(),Object(r["f"])("option",{key:t.id,value:t.id},Object(r["t"])(t.name),9,y)})),128))],32),Object(r["i"])(z)]),Object(r["g"])("div",x,[Object(r["g"])("div",w,[Object(r["g"])("ul",k,[I,Object(r["g"])("li",_,[c.isEstimator?(Object(r["l"])(),Object(r["f"])("button",C," Затраты ")):Object(r["e"])("",!0)])]),Object(r["g"])("div",S,[Object(r["g"])("button",{class:"btn btn-primary p-0 w-100",onClick:e[1]||(e[1]=function(e){return t.save()})}," Сохранить ")])]),Object(r["g"])("div",L,[Object(r["g"])("div",P,[Object(r["g"])("div",$,[Object(r["i"])(A,{ref:"resultComponent"},null,512)]),Object(r["g"])("div",T,[Object(r["i"])(E)])])])])])]),Object(r["g"])("div",N,[Object(r["g"])("div",q,[Object(r["g"])("div",R,[Object(r["g"])("button",{class:"btn btn-primary w-100",type:"button","data-bs-toggle":"offcanvas","data-bs-target":"#offcanvas-result",onTouchstartPassive:e[2]||(e[2]=function(){return t.save&&t.save.apply(t,arguments)})}," Итог ",32)]),"logistics"!=c.chosenTab?(Object(r["l"])(),Object(r["f"])("div",M,[Object(r["g"])("button",{class:"btn btn-primary w-100",type:"button",onClick:e[3]||(e[3]=function(){return D.addCard&&D.addCard.apply(D,arguments)})}," + ")])):Object(r["e"])("",!0)])])],64)}var A=n("5530"),z=(n("99af"),n("5502")),E={class:"button-row row justify-content-center mt-3 d-none d-lg-block"},U={class:"w-50 mx-auto"};function J(t,e,n,a,c,o){var s=Object(r["q"])("material-card");return Object(r["l"])(),Object(r["f"])("div",null,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(o.cards,(function(e,n){return Object(r["l"])(),Object(r["d"])(s,{class:"material-block",card_index:n,key:n,id:"material-card-"+n,onRemove:function(e){return t.removeMaterialCard(n)}},null,8,["card_index","id","onRemove"])})),128)),Object(r["g"])("div",E,[Object(r["g"])("div",U,[Object(r["g"])("button",{type:"button",class:"btn btn-primary w-100",onClick:e[0]||(e[0]=function(){return t.addMaterialCard&&t.addMaterialCard.apply(t,arguments)})}," + ")])])])}n("d3b7"),n("ddb0");var B=function(t){return Object(r["n"])("data-v-921a8456"),t=t(),Object(r["m"])(),t},V={class:"card-wrapper"},W={class:"material card-body row g-3"},F={class:"col-12 col-sm-11 container"},H={class:"row row-cols-2 g-2"},G={class:"col-12 form-floating"},X=["id","value"],K=["for"],Q={class:"col-12 col-sm-8 form-floating"},Y=["id","value"],Z=["for"],tt={class:"col-12 col-sm-4 form-floating"},et=["id","value"],nt=["for"],at={class:"col-12 col-sm-1 d-none d-lg-block"},ct={class:"hidden-delete m-0"},rt=B((function(){return Object(r["g"])("span",{class:"vericaltext mx-auto"}," У д а л и т ь",-1)})),ot=[rt];function st(t,e,n,a,c,o){var s=Object(r["r"])("touch");return Object(r["z"])((Object(r["l"])(),Object(r["f"])("div",V,[Object(r["g"])("div",{class:Object(r["k"])(["material-card card mt-5 mt-md-3",o.group]),ref:"mcard"+n.card_index},[Object(r["g"])("div",W,[Object(r["g"])("div",F,[Object(r["g"])("div",H,[Object(r["g"])("div",G,[Object(r["g"])("input",{id:"materialname-"+n.card_index,value:o.data.materialName,onInput:e[0]||(e[0]=function(e){return t.updateMaterialName({index:n.card_index,value:e.target.value})}),type:"text",class:"form-control border-info",placeholder:"название материала"},null,40,X),Object(r["g"])("label",{for:"materialname-"+n.card_index},"название материала",8,K)]),Object(r["g"])("div",Q,[Object(r["g"])("input",{id:"materialprice-"+n.card_index,value:o.data.materialPrice,onInput:e[1]||(e[1]=function(e){return t.updateMaterialField({index:n.card_index,value:e.target.value,field:"materialPrice"})}),type:"number",class:"form-control",placeholder:"цена слэба"},null,40,Y),Object(r["g"])("label",{for:"materialprice-"+n.card_index},"цена слэба",8,Z)]),Object(r["g"])("div",tt,[Object(r["g"])("input",{id:"material-count-"+n.card_index,value:o.data.materialCount,onInput:e[2]||(e[2]=function(e){return t.updateMaterialField({index:n.card_index,value:e.target.value,field:"materialCount"})}),type:"number",class:"form-control",placeholder:"число слэбов"},null,40,et),Object(r["g"])("label",{for:"material-count-"+n.card_index},"число слэбов",8,nt)])])]),Object(r["g"])("div",at,[Object(r["g"])("button",{type:"button",class:"btn btn-danger h-100 w-100 py-0 px-md-0",onClick:e[3]||(e[3]=function(e){return t.$emit("remove")})}," - ")])])],2),Object(r["g"])("div",ct,[Object(r["g"])("button",{type:"button",class:"btn btn-danger hidden-delete-button w-100 h-100 p-0 my-auto",onClick:e[4]||(e[4]=function(e){return t.$emit("remove")})},ot)])],512)),[[s,o.showDel,"swipe",{right:!0}],[s,o.showDel,"swipe",{left:!0}]])}n("fb6a");var lt={name:"MaterialCard",props:{card_index:Number},emits:["remove"],data:function(){return{pulled:null}},computed:{data:function(){return this.$store.state.values.material_cards[this.card_index]},group:function(){var t,e=null!=this.data.materialName&&""!=this.data.materialName?this.data.materialName.slice(0,1).charCodeAt(0):0;return e>1e3&&(e-=985),e-=65,-65==e?t=0:e<10?t=1:e<20?t=2:e<32&&(t=3),"group-".concat(t)}},methods:Object(A["a"])(Object(A["a"])({},Object(z["d"])(["updateMaterialName","updateMaterialField"])),{},{showDel:function(t){null==this.pulled&&"right"!=t?(this.pulled=!0,this.$refs["mcard"+this.card_index].classList.toggle("pulled")):this.pulled||"right"==t?this.pulled&&"right"==t&&(this.pulled=!1,this.$refs["mcard"+this.card_index].classList.toggle("pulled"),this.$refs["mcard"+this.card_index].classList.toggle("slideback")):(this.pulled=!0,this.$refs["mcard"+this.card_index].classList.toggle("pulled"),this.$refs["mcard"+this.card_index].classList.toggle("slideback")),console.log(this.pulled)}})},ut=(n("8843"),n("6b0d")),it=n.n(ut);const dt=it()(lt,[["render",st],["__scopeId","data-v-921a8456"]]);var bt=dt,pt={name:"Material",computed:{cards:function(){return this.$store.state.values.material_cards}},methods:Object(A["a"])({},Object(z["d"])(["addMaterialCard","removeMaterialCard"])),components:{MaterialCard:bt}};const mt=it()(pt,[["render",J]]);var ft=mt,gt={class:"button-row row justify-content-center mt-3 d-none d-lg-block"},Ot={class:"w-50 mx-auto"};function jt(t,e,n,a,c,o){var s=Object(r["q"])("product-card");return Object(r["l"])(),Object(r["f"])(r["a"],null,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(o.cards,(function(e,n){return Object(r["l"])(),Object(r["d"])(s,{class:"product-card",key:n,cardIndex:n,id:"product-card-"+n,onRemove:function(e){return t.removeProductCard(n)}},null,8,["cardIndex","id","onRemove"])})),128)),Object(r["g"])("div",gt,[Object(r["g"])("div",Ot,[Object(r["g"])("button",{type:"button",class:"btn btn-primary w-100",onClick:e[0]||(e[0]=function(){return o.newCard&&o.newCard.apply(o,arguments)})}," + ")])])],64)}n("b64b"),n("25f0");var vt=function(t){return Object(r["n"])("data-v-96bacd72"),t=t(),Object(r["m"])(),t},ht={class:"card-wrapper"},yt={class:"option-head row g-1"},xt=vt((function(){return Object(r["g"])("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-repeat",viewBox:"0 0 16 16"},[Object(r["g"])("path",{d:"M11.534 7h3.932a.25.25 0 0 1 .192.41l-1.966 2.36a.25.25 0 0 1-.384 0l-1.966-2.36a.25.25 0 0 1 .192-.41zm-11 2h3.932a.25.25 0 0 0 .192-.41L2.692 6.23a.25.25 0 0 0-.384 0L.342 8.59A.25.25 0 0 0 .534 9z"}),Object(r["g"])("path",{"fill-rule":"evenodd",d:"M8 3c-1.552 0-2.94.707-3.857 1.818a.5.5 0 1 1-.771-.636A6.002 6.002 0 0 1 13.917 7H12.9A5.002 5.002 0 0 0 8 3zM3.1 9a5.002 5.002 0 0 0 8.757 2.182.5.5 0 1 1 .771.636A6.002 6.002 0 0 1 2.083 9H3.1z"})],-1)})),wt=[xt],kt={class:"productCard col"},It=["value"],_t=vt((function(){return Object(r["g"])("option",{disabled:"",value:""},"Тип изделия",-1)})),Ct={class:"col-2 align-self-end h-100 d-none d-md-block"},St={class:"option-container row-cols-1 row gx-3 gy-2"},Lt={class:"row mt-4 g-1 col-12"},Pt={class:"col-10"},$t=vt((function(){return Object(r["g"])("option",{value:"null",disabled:""},"Выберите опцию",-1)})),Tt={class:"col-2"},Nt={key:1,class:"back card-body"},qt={class:"hidden-delete m-0"},Rt=vt((function(){return Object(r["g"])("span",{class:"vericaltext mx-auto"}," У д а л и т ь",-1)})),Mt=[Rt];function Dt(t,e,n,a,c,o){var s=Object(r["q"])("installation"),l=Object(r["q"])("low-priority"),u=Object(r["r"])("touch");return Object(r["z"])((Object(r["l"])(),Object(r["f"])("div",ht,[Object(r["g"])("div",{class:Object(r["k"])(["card mt-md-3 mt-5",o.type]),ref:"card"+n.cardIndex},[Object(r["g"])("div",{class:Object(r["k"])(["card-header",{"border-bottom-0":""==o.productCard.chosenType}])},[Object(r["g"])("div",yt,[Object(r["g"])("button",{type:"button",class:"btn btn-outline-secondary btn-lg col-2 col-lg-1 p-0 d-none d-md-block",onClick:e[0]||(e[0]=function(){return o.flip&&o.flip.apply(o,arguments)})},wt),Object(r["g"])("div",kt,[Object(r["g"])("select",{class:"form-select form-select-lg",value:o.productCard.chosenType,onChange:e[1]||(e[1]=function(e){return t.updateCardOptions({cardIndex:n.cardIndex,choice:e.target.value})})},[_t,(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(Object.keys(c.PRODUCTS),(function(t){return Object(r["l"])(),Object(r["f"])("option",{key:t},Object(r["t"])(t),1)})),128))],40,It)]),Object(r["g"])("div",Ct,[Object(r["g"])("button",{type:"button",class:"btn btn-danger w-100 btn-lg px-0",onClick:e[2]||(e[2]=function(e){return t.$emit("remove")})}," - ")])])],2),Object(r["i"])(r["b"],{name:"fade",mode:"out-in"},{default:Object(r["y"])((function(){return[c.flipped?(Object(r["l"])(),Object(r["f"])("div",Nt,[Object(r["i"])(l,{cardIndex:n.cardIndex},null,8,["cardIndex"])])):(Object(r["l"])(),Object(r["f"])("div",{key:0,class:Object(r["k"])(["product card-body front",{"d-none":""==o.productCard.chosenType}])},[Object(r["i"])(s,{cardIndex:n.cardIndex},null,8,["cardIndex"]),Object(r["g"])("div",St,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(o.productCard.option_card,(function(e,a){return Object(r["l"])(),Object(r["f"])("div",{class:"col col-card",key:a+n.cardIndex},[(Object(r["l"])(),Object(r["d"])(Object(r["s"])(e.component_type),{class:"h-100 o-card",key:a+n.cardIndex.toString(),cardIndex:n.cardIndex,optionIndex:a,onRefresh:o.updateOption,onRemoveoption:function(e){return t.removeCardOption({optionIndex:a,cardIndex:n.cardIndex})}},null,8,["cardIndex","optionIndex","onRefresh","onRemoveoption"]))])})),128))]),Object(r["g"])("div",Lt,[Object(r["g"])("div",Pt,[Object(r["z"])(Object(r["g"])("select",{class:"form-select","onUpdate:modelValue":e[3]||(e[3]=function(t){return c.selectedAddOn=t})},[$t,(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(c.options,(function(t){return Object(r["l"])(),Object(r["f"])("option",{key:t},Object(r["t"])(t),1)})),128))],512),[[r["w"],c.selectedAddOn]])]),Object(r["g"])("div",Tt,[Object(r["g"])("button",{onClick:e[4]||(e[4]=function(e){return t.addCardOption({choice:c.selectedAddOn,cardIndex:n.cardIndex})}),class:"btn btn-primary w-100 h-100 p-0"}," + ")])])],2))]})),_:1})],2),Object(r["g"])("div",qt,[Object(r["g"])("button",{type:"button",class:"btn btn-danger hidden-delete-button w-100 h-100 p-0 my-auto",onClick:e[5]||(e[5]=function(e){return t.$emit("remove")})},Mt)])],512)),[[u,o.flip,"swipe",{right:!0}],[u,o.showDel,"swipe",{left:!0}]])}n("4de4");var At={"Кромка":{component:"edge",type:"primary",data:{width:"",length:null,type:"",angle:""}},"Мойка":{component:"sink",type:"primary",data:{quantity:null,type:""}},"Бортик":{component:"border",type:"primary",data:{type:"Простой",length:null}},"Вырез под розетку":{component:"socket",type:"primary",data:{quantity:null}},"Варочная панель":{component:"cookpanel",type:"primary",data:{quantity:null,type:""}},"Данные ступеней":{component:"ladder",type:"secondary",data:{edgeType:"",stepLength:null,underStepLength:null}},"Длина стеновой панели":{component:"wallpanel-length",type:"secondary",data:{length:null}},"Стыковка плоскости":{component:"surface-docking",type:"primary",data:{type:"",quantity:null}},"Отверстия D⌀ <= 35мм":{component:"cutout",type:"primary",data:{quantity:null}}},zt={"Столешница":{defaultOptions:[At.Кромка,At.Бортик,At["Вырез под розетку"]]},"Барная стойка":{defaultOptions:[At.Кромка,At.Бортик,At["Варочная панель"]]},"Подоконник":{defaultOptions:[At.Кромка]},"Стеновая панель":{defaultOptions:[At["Длина стеновой панели"]]},"Ступени":{defaultOptions:[At["Данные ступеней"]]}},Et=[{name:"Радиусный угол > 12",count:null,measurement:"шт."},{name:"Другие отверстия",count:null,measurement:"шт."},{name:"Обход пиластры",count:null,measurement:"шт."},{name:"Конвекция",type:{selectors:["вровень","фрезеровка"],selected:""},count:null,measurement:"шт."},{name:"Лучи под сток воды",count:null,measurement:"шт."},{name:"Капельник",count:null,measurement:"шт."},{name:"Монтаж хром опоры заказчика",count:null,measurement:"шт."},{name:"Стыковка опорной ноги из камня под 45",count:null,measurement:"шт."},{name:"Шлифовка подворота камня",type:{selectors:["до 150 мм","более 150мм"],selected:""},count:null,measurement:"шт./м2"},{name:"Подворот из камня",count:null,measurement:"шт."},{name:"Демонтаж старых изделий (до 6 п.м.)",isChecked:!1}],Ut={class:"card"},Jt={class:"card-header container mx-0 bg-transparent"},Bt={class:"row g-0"},Vt=Object(r["g"])("div",{class:"col-10 h-100 my-auto"},"Кромка",-1),Wt={class:"col-2"},Ft={class:"card-body"},Ht={class:"side-info row row-cols-1 row-cols-md-2 g-2"},Gt={class:"col"},Xt=["value"],Kt=Object(r["g"])("option",{value:"",disabled:""},"Тип кромки",-1),Qt=Object(r["g"])("option",null,"№1",-1),Yt=Object(r["g"])("option",null,"№2",-1),Zt=Object(r["g"])("option",null,"№3",-1),te=Object(r["g"])("option",null,"№4",-1),ee=Object(r["g"])("option",null,"№6",-1),ne=Object(r["g"])("option",null,"№7",-1),ae=Object(r["g"])("option",null,"Утиный нос",-1),ce=Object(r["g"])("option",null,"Фигурная",-1),re=[Kt,Qt,Yt,Zt,te,ee,ne,ae,ce],oe={class:"col"},se=["value"],le=Object(r["g"])("option",{value:"",disabled:""},"Толщина кромки",-1),ue=Object(r["g"])("option",null,"20 мм",-1),ie=Object(r["g"])("option",null,"30 мм",-1),de=Object(r["g"])("option",null,"40 мм",-1),be=Object(r["g"])("option",null,"Другая",-1),pe=[le,ue,ie,de,be],me={class:"col"},fe=["value"],ge=Object(r["g"])("option",{value:"",disabled:""},"Угол склейки",-1),Oe=Object(r["g"])("option",{value:"45"},"45°",-1),je=Object(r["g"])("option",{value:"90"},"90°",-1),ve=[ge,Oe,je],he={class:"col"},ye=["value"];function xe(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",Ut,[Object(r["g"])("div",Jt,[Object(r["g"])("div",Bt,[Vt,Object(r["g"])("div",Wt,[Object(r["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(r["g"])("div",Ft,[Object(r["g"])("div",Ht,[Object(r["g"])("div",Gt,[Object(r["g"])("select",{class:"form-select form-select-sm",value:o.data.type,onChange:e[1]||(e[1]=function(t){return o.update("type",t.target.value)})},re,40,Xt)]),Object(r["g"])("div",oe,[Object(r["g"])("select",{class:"form-select form-select-sm",value:o.data.width,onChange:e[2]||(e[2]=function(t){return o.update("width",t.target.value)})},pe,40,se)]),Object(r["g"])("div",me,[Object(r["g"])("select",{class:"form-select form-select-sm",value:o.data.angle,onChange:e[3]||(e[3]=function(t){return o.update("angle",t.target.value)})},ve,40,fe)]),Object(r["g"])("div",he,[Object(r["g"])("input",{class:"form-control form-control-sm",placeholder:"п.м. кромки",type:"number",value:o.data.length,onInput:e[4]||(e[4]=function(t){return o.update("length",t.target.value)})},null,40,ye)])])])])}var we={emits:["removeoption","refresh"],name:"edge",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const ke=it()(we,[["render",xe]]);var Ie=ke,_e={class:"card"},Ce={class:"card-header bg-transparent"},Se={class:"row g-0"},Le=Object(r["g"])("div",{class:"col-10 h-100 my-auto"},"Мойка",-1),Pe={class:"col-2"},$e={class:"card-body row"},Te={class:"col-12 col-xl-8 m-xl-auto mb-1"},Ne=["value"],qe=Object(r["g"])("option",{disabled:"",value:""},"Тип мойки",-1),Re=Object(r["g"])("option",null,"Накладная",-1),Me=Object(r["g"])("option",null,"Поджимная",-1),De=Object(r["g"])("option",null,"Интегрированная",-1),Ae=Object(r["g"])("option",null,"Интегрированная 45°",-1),ze=Object(r["g"])("option",null,"Вровень",-1),Ee=[qe,Re,Me,De,Ae,ze],Ue={class:"sink-quantity col-12 col-xl-4 m-xl-auto mb-1"},Je=["value"];function Be(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",_e,[Object(r["g"])("div",Ce,[Object(r["g"])("div",Se,[Le,Object(r["g"])("div",Pe,[Object(r["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(r["g"])("div",$e,[Object(r["g"])("div",Te,[Object(r["g"])("select",{class:"form-select",value:o.data.type,onChange:e[1]||(e[1]=function(t){return o.update("type",t.target.value)})},Ee,40,Ne)]),Object(r["g"])("div",Ue,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"шт.",value:o.data.quantity,onInput:e[2]||(e[2]=function(t){return o.update("quantity",t.target.value)})},null,40,Je)])])])}var Ve={emits:["removeoption","refresh"],name:"sink",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const We=it()(Ve,[["render",Be]]);var Fe=We,He={class:"card"},Ge={class:"card-header bg-transparent"},Xe={class:"row g-0"},Ke=Object(r["g"])("div",{class:"col-10 h-100 my-auto"},"Вырез под розетку",-1),Qe={class:"col-2"},Ye={class:"card-body"},Ze={class:"col m-xl-auto my-auto"},tn=["value"];function en(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",He,[Object(r["g"])("div",Ge,[Object(r["g"])("div",Xe,[Ke,Object(r["g"])("div",Qe,[Object(r["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(r["g"])("div",Ye,[Object(r["g"])("div",Ze,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"шт.",value:o.data.quantity,onInput:e[1]||(e[1]=function(t){return o.update("quantity",t.target.value)})},null,40,tn)])])])}var nn={emits:["removeoption","refresh"],name:"socket",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const an=it()(nn,[["render",en]]);var cn=an,rn={class:"card"},on={class:"card-header bg-transparent"},sn={class:"row g-0"},ln=Object(r["g"])("div",{class:"col-10 h-100 my-auto"},"Варочная панель",-1),un={class:"col-2"},dn={class:"card-body row"},bn={class:"col-12 col-xl-8 m-xl-auto mb-1"},pn=["value"],mn=Object(r["g"])("option",{disabled:"",value:""},"Тип варки",-1),fn=Object(r["g"])("option",null,"Накладная",-1),gn=Object(r["g"])("option",null,"Интегрированная",-1),On=[mn,fn,gn],jn={class:"col-12 col-xl-4 m-xl-auto mb-1"},vn=["value"];function hn(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",rn,[Object(r["g"])("div",on,[Object(r["g"])("div",sn,[ln,Object(r["g"])("div",un,[Object(r["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(r["g"])("div",dn,[Object(r["g"])("div",bn,[Object(r["g"])("select",{class:"form-select",value:o.data.type,onChange:e[1]||(e[1]=function(t){return o.update("type",t.target.value)})},On,40,pn)]),Object(r["g"])("div",jn,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"шт.",value:o.data.quantity,onInput:e[2]||(e[2]=function(t){return o.update("quantity",t.target.value)})},null,40,vn)])])])}var yn={emits:["removeoption","refresh"],name:"cook-panel",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const xn=it()(yn,[["render",hn]]);var wn=xn,kn={class:"card"},In={class:"card-header bg-transparent"},_n={class:"row g-0"},Cn=Object(r["g"])("div",{class:"col-10 h-100 my-auto"},"Бортик",-1),Sn={class:"col-2"},Ln={class:"card-body row"},Pn={class:"col m-xl-auto"},$n={class:"form-check"},Tn=["name","id"],Nn=["for"],qn={class:"form-check"},Rn=["name","id"],Mn=["for"],Dn={class:"col m-xl-auto my-auto"},An=["value"];function zn(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",kn,[Object(r["g"])("div",In,[Object(r["g"])("div",_n,[Cn,Object(r["g"])("div",Sn,[Object(r["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(r["g"])("div",Ln,[Object(r["g"])("div",Pn,[Object(r["g"])("div",$n,[Object(r["z"])(Object(r["g"])("input",{class:"form-check-input",type:"radio",value:"Простой",name:n.cardIndex+"borderRadio1"+n.optionIndex,id:n.cardIndex+"borderRadio1"+n.optionIndex,"onUpdate:modelValue":e[1]||(e[1]=function(t){return o.type=t})},null,8,Tn),[[r["v"],o.type]]),Object(r["g"])("label",{class:"form-check-label",for:n.cardIndex+"borderRadio1"+n.optionIndex}," Простой ",8,Nn)]),Object(r["g"])("div",qn,[Object(r["z"])(Object(r["g"])("input",{class:"form-check-input",type:"radio",value:"Калиброванный",name:n.cardIndex+"borderRadio2"+n.optionIndex,id:n.cardIndex+"borderRadio2"+n.optionIndex,"onUpdate:modelValue":e[2]||(e[2]=function(t){return o.type=t})},null,8,Rn),[[r["v"],o.type]]),Object(r["g"])("label",{class:"form-check-label",for:n.cardIndex+"borderRadio2"+n.optionIndex}," Калиброванный ",8,Mn)])]),Object(r["g"])("div",Dn,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"п.м.",value:o.data.length,onInput:e[3]||(e[3]=function(t){return o.update("length",t.target.value)})},null,40,An)])])])}var En={emits:["removeoption","refresh"],name:"border",props:{cardIndex:Number,optionIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data},type:{get:function(){return this.data.type},set:function(t){this.update("type",t)}}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const Un=it()(En,[["render",zn]]);var Jn=Un,Bn={class:"card"},Vn={class:"card-header bg-transparent"},Wn={class:"row g-0"},Fn=Object(r["g"])("div",{class:"col-10 h-100 my-auto"},"Данные ступеней",-1),Hn={class:"col-2"},Gn={class:"card-body row g-1"},Xn=["value"],Kn=Object(r["g"])("option",{value:""},"тип фаски",-1),Qn=Object(r["g"])("option",null,"Верх",-1),Yn=Object(r["g"])("option",null,"Верх и низ",-1),Zn=[Kn,Qn,Yn],ta=["value"],ea=["value"];function na(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",Bn,[Object(r["g"])("div",Vn,[Object(r["g"])("div",Wn,[Fn,Object(r["g"])("div",Hn,[Object(r["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(r["g"])("div",Gn,[Object(r["g"])("select",{class:"form-select",value:o.data.edgeType,onChange:e[1]||(e[1]=function(t){return o.update("edgeType",t.target.value)})},Zn,40,Xn),Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"длина ступеней, п.м.",value:o.data.stepLength,onInput:e[2]||(e[2]=function(t){return o.update("stepLength",t.target.value)})},null,40,ta),Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"длина подступков, п.м.",value:o.data.underStepLength,onInput:e[3]||(e[3]=function(t){return o.update("underStepLength",t.target.value)})},null,40,ea)])])}var aa={emits:["removeoption","refresh"],name:"ladder",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const ca=it()(aa,[["render",na]]);var ra=ca,oa={class:"card"},sa={class:"card-header bg-transparent"},la={class:"row g-0"},ua=Object(r["g"])("div",{class:"col-10 h-100 my-auto"},"Отверстия D⌀ <= 35мм",-1),ia=Object(r["h"])(),da={class:"col-2"},ba={class:"card-body row"},pa={class:"col m-xl-auto my-auto"},ma=["value"];function fa(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",oa,[Object(r["g"])("div",sa,[Object(r["g"])("div",la,[ua,ia,Object(r["g"])("div",da,[Object(r["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(r["g"])("div",ba,[Object(r["g"])("div",pa,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"шт.",value:o.data.quantity,onInput:e[1]||(e[1]=function(t){return o.update("quantity",t.target.value)})},null,40,ma)])])])}var ga={emits:["removeoption","refresh"],name:"cutout",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const Oa=it()(ga,[["render",fa]]);var ja=Oa,va={class:"card"},ha={class:"card-header bg-transparent"},ya={class:"row g-0"},xa=Object(r["g"])("div",{class:"col-10 h-100 my-auto"},"Длина стеновой панели",-1),wa={class:"col-2"},ka={class:"card-body g-1"},Ia=["value"];function _a(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",va,[Object(r["g"])("div",ha,[Object(r["g"])("div",ya,[xa,Object(r["g"])("div",wa,[Object(r["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(r["g"])("div",ka,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"длина панели, п.м.",value:o.data.length,onInput:e[1]||(e[1]=function(t){return o.update("length",t.target.value)})},null,40,Ia)])])}var Ca={emits:["removeoption","refresh"],name:"wallpanel-length",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$store.commit("updateInstallationLength",{cardIndex:this.cardIndex,value:e}),this.$emit("refresh",this.optionIndex,t,e)}}};const Sa=it()(Ca,[["render",_a]]);var La=Sa,Pa={class:"card"},$a={class:"card-header bg-transparent"},Ta={class:"row g-0"},Na=Object(r["g"])("div",{class:"col-10 h-100 my-auto"},"Стыковка плоскости",-1),qa={class:"col-2"},Ra={class:"card-body row g-1"},Ma=["value"],Da=Object(r["g"])("option",{disabled:"",value:""},"Тип стыковки",-1),Aa=Object(r["g"])("option",null,"Прямая",-1),za=Object(r["g"])("option",null,"Косая",-1),Ea=[Da,Aa,za],Ua=["value"];function Ja(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",Pa,[Object(r["g"])("div",$a,[Object(r["g"])("div",Ta,[Na,Object(r["g"])("div",qa,[Object(r["g"])("button",{class:"btn btn-outline-danger w-100 p-0",type:"button",onClick:e[0]||(e[0]=function(e){return t.$emit("removeoption")})}," - ")])])]),Object(r["g"])("div",Ra,[Object(r["g"])("select",{class:"form-select",value:o.data.type,onChange:e[1]||(e[1]=function(t){return o.update("type",t.target.value)})},Ea,40,Ma),Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"количество склеек, шт..",value:o.data.quantity,onInput:e[2]||(e[2]=function(t){return o.update("quantity",t.target.value)})},null,40,Ua)])])}var Ba={emits:["removeoption","refresh"],name:"surface-docking",props:{optionIndex:Number,cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].option_card[this.optionIndex].data}},methods:{update:function(t,e){this.$emit("refresh",this.optionIndex,t,e)}}};const Va=it()(Ba,[["render",Ja]]);var Wa=Va,Fa={class:"input-group my-2 col-12"},Ha={class:"input-group-text bg-white"},Ga=["id"],Xa=["for"],Ka=["value"];function Qa(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",Fa,[Object(r["g"])("div",Ha,[Object(r["z"])(Object(r["g"])("input",{class:"form-check-input mt-0",type:"checkbox",id:"checkbox_installation"+n.cardIndex,"onUpdate:modelValue":e[0]||(e[0]=function(t){return o.checkBox=t})},null,8,Ga),[[r["u"],o.checkBox]]),Object(r["g"])("label",{class:"form-check-label mx-1 my-auto",for:"checkbox_installation"+n.cardIndex}," Монтаж изделия, п.м. ",8,Xa)]),Object(r["g"])("input",{type:"number",class:"form-control",value:o.data.length,ref:"installation_field_"+n.cardIndex,onInput:e[1]||(e[1]=function(t){return o.setLength(t.target.value)})},null,40,Ka)])}var Ya={emits:["refresh"],name:"installation",props:{cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].installation},checkBox:{get:function(){return this.data.status},set:function(t){t&&!this.data.length&&this.$refs["installation_field_"+this.cardIndex].focus(),this.setCheckbox(t)}}},methods:{setLength:function(t){this.checkBox||this.setCheckbox(!0),t||this.setCheckbox(!1),this.$store.commit("updateInstallationLength",{cardIndex:this.cardIndex,value:t})},setCheckbox:function(t){this.$store.commit("updateInstallationStatus",{cardIndex:this.cardIndex,value:t})}}};const Za=it()(Ya,[["render",Qa]]);var tc=Za,ec={class:"list-group backlist px-0"},nc={class:"row g-2"},ac={key:0,class:"col-1 form-check"},cc=["value","id","onChange"],rc=["for"],oc={key:1,class:"col"},sc=["placeholder","value","onInput"],lc={key:2,class:"col-12"},uc=["value","onChange"],ic=Object(r["g"])("option",{value:""},"тип",-1);function dc(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("ul",ec,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(o.data,(function(e,a){return Object(r["l"])(),Object(r["f"])("li",{key:e.name,class:"list-group-item"},[Object(r["g"])("div",nc,["undefined"!==typeof e.isChecked?(Object(r["l"])(),Object(r["f"])("div",ac,[Object(r["g"])("input",{class:"form-check-input",type:"checkbox",value:e.isChecked,id:"checkbox"+a,onChange:function(e){return t.updateAddonCheckbox({cardIndex:n.cardIndex,addonIndex:a})}},null,40,cc)])):Object(r["e"])("",!0),Object(r["g"])("label",{class:"col h6 form-check-label",for:"checkbox"+a},Object(r["t"])(e.name),9,rc),"undefined"!==typeof e.count?(Object(r["l"])(),Object(r["f"])("div",oc,[Object(r["g"])("input",{type:"number",class:"form-control form-control-sm",placeholder:e.measurement,value:e.count,onInput:function(e){return t.updateAddonInput({cardIndex:n.cardIndex,addonIndex:a,field:"count",value:e.target.value})}},null,40,sc)])):Object(r["e"])("",!0),"undefined"!==typeof e.type?(Object(r["l"])(),Object(r["f"])("div",lc,[Object(r["g"])("select",{class:"form-select form-select-sm",value:e.type.selected,onChange:function(e){return t.updateAddonSelector({cardIndex:n.cardIndex,addonIndex:a,field:"type",value:e.target.value})}},[ic,(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(e.type.selectors,(function(t){return Object(r["l"])(),Object(r["f"])("option",{key:t},Object(r["t"])(t),1)})),128))],40,uc)])):Object(r["e"])("",!0)])])})),128))])}var bc={name:"lowPriority",props:{cardIndex:Number},computed:{data:function(){return this.$store.state.values.product_cards[this.cardIndex].addons}},methods:Object(A["a"])({},Object(z["d"])(["updateAddonInput","updateAddonSelector","updateAddonCheckbox"]))};const pc=it()(bc,[["render",dc]]);var mc=pc,fc={name:"productCard",props:{cardIndex:Number},emits:["remove","next","prev"],data:function(){return{PRODUCTS:zt,options:Object.keys(At).filter((function(t){return"secondary"!=At[t].type})),flipped:!1,pulled:null,selectedAddOn:null}},computed:{productCard:function(){return this.$store.state.values.product_cards[this.cardIndex]},type:function(){switch(this.productCard.chosenType){case"Столешница":return"countertop";case"Барная стойка":return"bar";case"Подоконник":return"sill";case"Стеновая панель":return"wall";default:return"none"}}},methods:Object(A["a"])(Object(A["a"])({},Object(z["d"])(["updateCardOptions","addCardOption","removeCardOption"])),{},{flip:function(){this.$refs["card"+this.cardIndex].classList.contains("pulled")?(console.log(!0),this.showDel({forced:!0})):""!=this.productCard.chosenType&&(this.flipped=!this.flipped)},showDel:function(t){var e=t.forced,n=void 0!==e&&e;null==this.pulled?(this.pulled=!0,this.$refs["card"+this.cardIndex].classList.toggle("pulled")):this.pulled&&!n||(console.log([!this.pulled,n]),this.pulled=!this.pulled,this.$refs["card"+this.cardIndex].classList.toggle("pulled"),this.$refs["card"+this.cardIndex].classList.toggle("slideback"))},updateOption:function(t,e,n){this.$store.commit("updateOptionValue",{cardIndex:this.cardIndex,optionIndex:t,field:e,value:n})}}),components:{Edge:Ie,Sink:Fe,Socket:cn,Cookpanel:wn,Border:Jn,Ladder:ra,Cutout:ja,WallpanelLength:La,SurfaceDocking:Wa,LowPriority:mc,Installation:tc}};n("d380");const gc=it()(fc,[["render",Dt],["__scopeId","data-v-96bacd72"]]);var Oc=gc,jc={name:"productBlock",computed:{cards:function(){return this.$store.state.values.product_cards}},methods:Object(A["a"])(Object(A["a"])({},Object(z["d"])(["addProductCard","removeProductCard"])),{},{newCard:function(){this.addProductCard()}}),components:{ProductCard:Oc}};const vc=it()(jc,[["render",jt]]);var hc=vc,yc={class:"row g-3 row-cols-1"},xc={class:"col col-12 col-md-6 h-100"},wc={class:"card"},kc=Object(r["g"])("div",{class:"card-header"},"Замер",-1),Ic={class:"card-body"},_c=["value"],Cc=["value"],Sc={class:"col col-12 col-md-6 h-100"},Lc={class:"card"},Pc=Object(r["g"])("div",{class:"card-header"},"Доставка",-1),$c={class:"card-body"},Tc=["value"],Nc={class:"col col-12 col-md-6 h-100"},qc={class:"card"},Rc=Object(r["g"])("div",{class:"card-header"},"Монтаж",-1),Mc={class:"card-body"},Dc=["value"],Ac={class:"col col-12 col-md-6 h-100"},zc={class:"card"},Ec=Object(r["g"])("div",{class:"card-header"},"Расстояние за Мкад",-1),Uc={class:"card-body"},Jc=["value"],Bc={class:"col col-12 col-md-6 h-100"},Vc={class:"card"},Wc=Object(r["g"])("div",{class:"card-header"},"Ручной подъем",-1),Fc={class:"card-body"},Hc=["value"],Gc={class:"col col-12 col-md-6 h-100"},Xc={class:"card"},Kc=Object(r["g"])("div",{class:"card-header"},"Дополнительные работы",-1),Qc={class:"card-body"},Yc=["value"],Zc={class:"col col-12 col-md-6 h-100"},tr={class:"card"},er=Object(r["g"])("div",{class:"card-header"},"Накрутка",-1),nr={class:"card-body"},ar=["value"];function cr(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",yc,[Object(r["g"])("div",xc,[Object(r["g"])("div",wc,[kc,Object(r["g"])("div",Ic,[Object(r["g"])("input",{type:"number",class:"form-control mb-2",placeholder:"число выездов",value:o.logistics.measurement,onInput:e[0]||(e[0]=function(t){return o.update("measurement",t.target.value)})},null,40,_c),Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"цена за шаблон",value:o.logistics.templatePrice,onInput:e[1]||(e[1]=function(t){return o.update("templatePrice",t.target.value)})},null,40,Cc)])])]),Object(r["g"])("div",Sc,[Object(r["g"])("div",Lc,[Pc,Object(r["g"])("div",$c,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"число выездов",value:o.logistics.delivery,onInput:e[2]||(e[2]=function(t){return o.update("delivery",t.target.value)})},null,40,Tc)])])]),Object(r["g"])("div",Nc,[Object(r["g"])("div",qc,[Rc,Object(r["g"])("div",Mc,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"число выездов",value:o.logistics.mounting,onInput:e[3]||(e[3]=function(t){return o.update("mounting",t.target.value)})},null,40,Dc)])])]),Object(r["g"])("div",Ac,[Object(r["g"])("div",zc,[Ec,Object(r["g"])("div",Uc,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"км",value:o.logistics.distance,onInput:e[4]||(e[4]=function(t){return o.update("distance",t.target.value)})},null,40,Jc)])])]),Object(r["g"])("div",Bc,[Object(r["g"])("div",Vc,[Wc,Object(r["g"])("div",Fc,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"км",value:o.logistics.manualLifting,onInput:e[5]||(e[5]=function(t){return o.update("manualLifting",t.target.value)})},null,40,Hc)])])]),Object(r["g"])("div",Gc,[Object(r["g"])("div",Xc,[Kc,Object(r["g"])("div",Qc,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"руб.",value:o.logistics.additionalWork,onInput:e[6]||(e[6]=function(t){return o.update("additionalWork",t.target.value)})},null,40,Yc)])])]),Object(r["g"])("div",Zc,[Object(r["g"])("div",tr,[er,Object(r["g"])("div",nr,[Object(r["g"])("input",{type:"number",class:"form-control",placeholder:"руб.",value:o.logistics.overPrice,onInput:e[7]||(e[7]=function(t){return o.update("overPrice",t.target.value)})},null,40,ar)])])])])}var rr={name:"LogisticsBlock",computed:{logistics:function(){return this.$store.state.values.logistics}},methods:{update:function(t,e){this.$store.commit("updateLogisticsInfo",{field:t,value:e})}}};const or=it()(rr,[["render",cr]]);var sr=or,lr={key:0,class:"list-group list-group-flush",ref:"content"},ur={key:0,class:"list-group-item"},ir={class:"row justify-content-between g-0 mb-2"},dr=Object(r["g"])("span",{class:"col h4 mb-0 py-auto"},"Материал",-1),br={key:0,class:"col text-end fw-bold pb-0"},pr={class:"res-list"},mr={key:0,class:"col h6 my-auto"},fr={key:1,class:"col my-auto"},gr={class:"col text-end my-auto"},Or={key:0,class:"row justify-content-between g-0 mt-2"},jr=Object(r["g"])("span",{class:"col my-auto"},"Материалы / расходники",-1),vr={class:"col text-end my-auto"},hr={key:1,class:"list-group-item"},yr={class:"row justify-content-between g-0 mb-2"},xr=Object(r["g"])("span",{class:"col h4 mb-0 py-auto"},"Изделие",-1),wr={key:0,class:"col text-end fw-bold pb-0"},kr={class:"res-list"},Ir={class:"col my-auto"},_r={class:"col text-end my-auto"},Cr={class:"col-12 res-list"},Sr={class:"col my-auto"},Lr={class:"col text-end my-auto"},Pr={class:"col my-auto"},$r={class:"col text-end my-auto"},Tr={key:2,class:"list-group-item"},Nr={class:"row justify-content-between g-0 mb-2"},qr=Object(r["g"])("span",{class:"col h4 mb-0 py-auto"},"Логистика",-1),Rr={key:0,class:"col text-end fw-bold pb-0"},Mr={class:"res-list"},Dr={class:"col my-auto"},Ar={class:"col text-end my-auto"},zr={class:"list-group-item"},Er={class:"btn-group w-100",role:"group"};function Ur(t,e,n,a,c,o){return t.total>0?(Object(r["l"])(),Object(r["f"])("div",lr,[o.materialResult>0?(Object(r["l"])(),Object(r["f"])("div",ur,[Object(r["g"])("div",ir,[dr,0!=t.materialSum.result?(Object(r["l"])(),Object(r["f"])("span",br,Object(r["t"])(o.materialResult)+" руб.",1)):Object(r["e"])("",!0)]),Object(r["g"])("ul",pr,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(o.c_materials,(function(e,n){return Object(r["l"])(),Object(r["f"])("li",{key:n,class:"row justify-content-between g-0 mb-2"},[e.name?(Object(r["l"])(),Object(r["f"])("span",mr,Object(r["t"])(e.name),1)):(Object(r["l"])(),Object(r["f"])("span",fr,"Кварцевый агломерат")),Object(r["g"])("span",gr,Object(r["t"])(e.result+t.overPrice.result/t.materials.length)+" руб.",1)])})),128)),o.false_spendings>0?(Object(r["l"])(),Object(r["f"])("li",Or,[jr,Object(r["g"])("span",vr,Object(r["t"])(o.false_spendings)+" руб.",1)])):Object(r["e"])("",!0)])])):Object(r["e"])("",!0),t.optionSum.length?(Object(r["l"])(),Object(r["f"])("div",hr,[Object(r["g"])("div",yr,[xr,t.totalProductSum.discount?(Object(r["l"])(),Object(r["f"])("span",wr,Object(r["t"])(t.totalProductSum.discount)+" руб.",1)):Object(r["e"])("",!0)]),Object(r["g"])("ul",kr,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(t.products,(function(e,n){return Object(r["l"])(),Object(r["f"])("li",{key:n,class:"row justify-content-between g-0 mb-2"},[Object(r["g"])("span",Ir,Object(r["t"])(e.name),1),Object(r["g"])("span",_r,Object(r["t"])(t.optionSum[n].discount+t.addonSumList[n].discount)+" руб.",1),Object(r["g"])("ul",Cr,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(e.options,(function(t,e){return Object(r["l"])(),Object(r["f"])("li",{class:"small-text row justify-content-between g-0 mb-2",key:e},[Object(r["g"])("span",Sr,Object(r["t"])(t.text),1),Object(r["g"])("span",Lr,Object(r["t"])(t.discount)+" руб.",1)])})),128)),(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(t.addons[n],(function(t,e){return Object(r["l"])(),Object(r["f"])("li",{class:"small-text row justify-content-between g-0 mb-2",key:e},[Object(r["g"])("span",Pr,Object(r["t"])(t.name),1),Object(r["g"])("span",$r,Object(r["t"])(t.discount)+" руб.",1)])})),128))])])})),128))])])):Object(r["e"])("",!0),t.logisticsList.length?(Object(r["l"])(),Object(r["f"])("div",Tr,[Object(r["g"])("div",Nr,[qr,t.logisticSum.salary?(Object(r["l"])(),Object(r["f"])("span",Rr,Object(r["t"])(t.logisticSum.result)+" руб.",1)):Object(r["e"])("",!0)]),Object(r["g"])("ul",Mr,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(t.logisticsList,(function(t,e){return Object(r["l"])(),Object(r["f"])("li",{key:e,class:"row justify-content-between g-0 mb-2"},[Object(r["g"])("span",Dr,Object(r["t"])(t.text),1),Object(r["g"])("span",Ar,Object(r["t"])(t.result)+" руб.",1)])})),128))])])):Object(r["e"])("",!0),Object(r["g"])("div",zr,[Object(r["g"])("h4",null,"Итог: "+Object(r["t"])(t.total),1),Object(r["g"])("div",Er,[Object(r["z"])(Object(r["g"])("input",{type:"radio",class:"btn-check",name:"discountRadio",id:"discount0",value:"0",autocomplete:"off","onUpdate:modelValue":e[0]||(e[0]=function(t){return o.discount=t})},null,512),[[r["v"],o.discount]]),Object(r["g"])("label",{class:Object(r["k"])(["btn btn-outline-primary",{"recommended-discount":0==t.recommendedDiscount}]),for:"discount0"},"Без скидки",2),Object(r["z"])(Object(r["g"])("input",{type:"radio",class:"btn-check",name:"discountRadio",id:"discount10",value:"10",autocomplete:"off","onUpdate:modelValue":e[1]||(e[1]=function(t){return o.discount=t})},null,512),[[r["v"],o.discount]]),Object(r["g"])("label",{class:Object(r["k"])(["btn btn-outline-primary",{"recommended-discount":10==t.recommendedDiscount}]),for:"discount10"},"Колонка 1",2),Object(r["z"])(Object(r["g"])("input",{type:"radio",class:"btn-check",name:"discountRadio",id:"discount20",value:"20",autocomplete:"off","onUpdate:modelValue":e[2]||(e[2]=function(t){return o.discount=t})},null,512),[[r["v"],o.discount]]),Object(r["g"])("label",{class:Object(r["k"])(["btn btn-outline-primary",{"recommended-discount":20==t.recommendedDiscount}]),for:"discount20"},"Колонка 2",2),Object(r["z"])(Object(r["g"])("input",{type:"radio",class:"btn-check",name:"discountRadio",id:"discount30",value:"30",autocomplete:"off","onUpdate:modelValue":e[3]||(e[3]=function(t){return o.discount=t})},null,512),[[r["v"],o.discount]]),Object(r["g"])("label",{class:Object(r["k"])(["btn btn-outline-primary",{"recommended-discount":30==t.recommendedDiscount}]),for:"discount30"},"Колонка 3",2)])])],512)):Object(r["e"])("",!0)}var Jr={computed:Object(A["a"])(Object(A["a"])({},Object(z["c"])(["materialSum","optionSum","productSum","additionalWork","templates","logisticsList","logisticRawSum","logisticSum","addonSumList","addonSum","rawTotal","total","spendings","recommendedDiscount","measurementPrice","overPrice","products","addons","materials","totalProductSum"])),{},{c_materials:function(){return this.materials.filter((function(t){return t.name||t.count||t.result}))},materialResult:function(){return this.materialSum.result+this.measurementPrice.result+this.overPrice.result},false_spendings:function(){return this.measurementPrice.result+(this.c_materials.length>0?0:this.overPrice.result)},discount:{get:function(){return this.$store.state.values.discount||0},set:function(t){this.setDiscount(t)}}}),methods:{setDiscount:function(t){this.$store.commit("setDiscount",t)}}};n("8183");const Br=it()(Jr,[["render",Ur]]);var Vr=Br,Wr={class:"list-group list-group-flush"},Fr={key:0,class:"list-group-item"},Hr={class:"row justify-content-between g-0 mb-2"},Gr=Object(r["g"])("span",{class:"col h4 mb-0 py-auto"},"Материал",-1),Xr={key:0,class:"col text-end fw-bold pb-0"},Kr={class:"res-list"},Qr={key:0,class:"col h6 my-auto"},Yr={key:1,class:"col my-auto"},Zr={class:"col text-end my-auto"},to={key:1,class:"list-group-item"},eo={class:"row justify-content-between g-0 mb-2"},no=Object(r["g"])("span",{class:"col h4 mb-0 py-auto"},"Зарплата",-1),ao={key:0,class:"col text-end fw-bold pb-0"},co={class:"res-list"},ro={class:"col my-auto"},oo={class:"col text-end my-auto"},so={class:"col-12 res-list"},lo={class:"col my-auto"},uo={class:"col text-end my-auto"},io={class:"col my-auto"},bo={class:"col text-end my-auto"},po={class:"col my-auto"},mo={key:0,class:"col text-end my-auto"},fo={key:1,class:"col text-end my-auto"},go={key:2,class:"list-group-item"},Oo=Object(r["g"])("div",{class:"row justify-content-between g-0 mb-2"},[Object(r["g"])("span",{class:"col h4 mb-0 py-auto"},"Траты на логистику")],-1),jo={class:"res-list"},vo={key:0,class:"row justify-content-between g-0 mt-2"},ho=Object(r["g"])("span",{class:"col my-auto"},"Замер",-1),yo={class:"col text-end my-auto"},xo={key:1,class:"row justify-content-between g-0 mt-2"},wo=Object(r["g"])("span",{class:"col my-auto"},"Накрутка",-1),ko={class:"col text-end my-auto"},Io={class:"list-group-item"};function _o(t,e,n,a,c,o){return Object(r["l"])(),Object(r["f"])("div",Wr,[t.materials.length?(Object(r["l"])(),Object(r["f"])("div",Fr,[Object(r["g"])("div",Hr,[Gr,0!=t.materialSum.salary?(Object(r["l"])(),Object(r["f"])("span",Xr,Object(r["t"])(t.materialSum.salary)+" руб.",1)):Object(r["e"])("",!0)]),Object(r["g"])("ul",Kr,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(t.materials,(function(t,e){return Object(r["l"])(),Object(r["f"])("li",{key:e,class:"row justify-content-between g-0 mb-2"},[t.name?(Object(r["l"])(),Object(r["f"])("span",Qr,Object(r["t"])(t.name),1)):(Object(r["l"])(),Object(r["f"])("span",Yr,"Кварцевый агломерат")),Object(r["g"])("span",Zr,Object(r["t"])(t.salary)+" руб.",1)])})),128))])])):Object(r["e"])("",!0),t.optionSum.length?(Object(r["l"])(),Object(r["f"])("div",to,[Object(r["g"])("div",eo,[no,o.specialistSalary?(Object(r["l"])(),Object(r["f"])("span",ao,Object(r["t"])(o.specialistSalary)+" руб.",1)):Object(r["e"])("",!0)]),Object(r["g"])("ul",co,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(t.products,(function(e,n){return Object(r["l"])(),Object(r["f"])("li",{key:n,class:"row justify-content-between g-0 mb-2"},[Object(r["g"])("span",ro,Object(r["t"])(e.name),1),Object(r["g"])("span",oo,Object(r["t"])(t.optionSum[n].salary+t.addonSumList[n].salary)+" руб.",1),Object(r["g"])("ul",so,[(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(e.options,(function(t,e){return Object(r["l"])(),Object(r["f"])("li",{class:"small-text row justify-content-between g-0 mb-2",key:e},[Object(r["g"])("span",lo,Object(r["t"])(t.text),1),Object(r["g"])("span",uo,Object(r["t"])(t.salary)+" руб.",1)])})),128)),(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(t.addons[n],(function(t,e){return Object(r["l"])(),Object(r["f"])("li",{class:"small-text row justify-content-between g-0 mb-2",key:e},[Object(r["g"])("span",io,Object(r["t"])(t.name),1),Object(r["g"])("span",bo,Object(r["t"])(t.salary)+" руб.",1)])})),128))])])})),128)),(Object(r["l"])(!0),Object(r["f"])(r["a"],null,Object(r["p"])(o.specialistLogistics,(function(t,e){return Object(r["l"])(),Object(r["f"])("li",{key:e,class:"row justify-content-between g-0 mb-2"},[Object(r["g"])("span",po,Object(r["t"])(t.text),1),t.salary?(Object(r["l"])(),Object(r["f"])("span",mo,Object(r["t"])(t.salary)+" руб.",1)):(Object(r["l"])(),Object(r["f"])("span",fo,Object(r["t"])(t.result)+" руб.",1))])})),128))])])):Object(r["e"])("",!0),t.logisticsList.length?(Object(r["l"])(),Object(r["f"])("div",go,[Oo,Object(r["g"])("ul",jo,[t.measurementPrice.salary>0?(Object(r["l"])(),Object(r["f"])("li",vo,[ho,Object(r["g"])("span",yo,Object(r["t"])(t.measurementPrice.salary)+" руб.",1)])):Object(r["e"])("",!0),t.overPrice.result>0?(Object(r["l"])(),Object(r["f"])("li",xo,[wo,Object(r["g"])("span",ko,Object(r["t"])(t.overPrice.result)+" руб.",1)])):Object(r["e"])("",!0)])])):Object(r["e"])("",!0),Object(r["g"])("div",Io,[Object(r["g"])("h4",null,"Итог: "+Object(r["t"])(t.rawTotal.salary),1)])])}var Co={computed:Object(A["a"])(Object(A["a"])({},Object(z["c"])(["materialSum","optionSum","productSum","additionalWork","templates","logisticsList","logisticRawSum","logisticSum","addonSumList","addonSum","rawTotal","total","spendings","recommendedsalary","measurementPrice","overPrice","products","addons","materials","totalProductSum","lifting","installation"])),{},{specialistSalary:function(){return(this.totalProductSum.salary||0)+(this.specialistLogistics.reduce((function(t,e){return{salary:t.salary+e.salary}})).salary||0)},specialistLogistics:function(){var t=[this.installation,this.lifting];return t}})};n("4003");const So=it()(Co,[["render",_o]]);var Lo=So,Po=n("8baf"),$o=n("c0e9"),To=n.n($o),No={name:"App",data:function(){return{isEstimator:!1,tabs:[{component:"materials",name:"Материал"},{component:"products",name:"Изделия"},{component:"logistics",name:"Логистика"}],chosenTab:"products",templates:null}},methods:Object(A["a"])(Object(A["a"])(Object(A["a"])({checkPermissions:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.axios.post("permissions").then((function(e){t.isEstimator=e.data.isEstimator}));case 1:case"end":return e.stop()}}),e)})))()},setTemplateNames:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.templates=JSON.parse(document.getElementById("template_names").textContent);case 1:case"end":return e.stop()}}),e)})))()},setTab:function(){var t=this;return Object(c["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.chosenTab=window.localStorage.getItem("chosenTab")||t.tabs[0].component;case 1:case"end":return e.stop()}}),e)})))()}},Object(z["d"])(["addMaterialCard","addProductCard"])),Object(z["b"])(["save"])),{},{focusCard:function(t,e){setTimeout((function(){var n=document.getElementById("".concat(t,"-").concat(e));n.scrollIntoView({block:"center",behavior:"auto"})}),0)},addCard:function(){var t={materials:this.addMaterialCard,products:this.addProductCard};t[this.chosenTab]()},switchTab:function(t){this.chosenTab=t,window.localStorage.setItem("chosenTab",t)},download:function(){var t=new Po["a"];console.log(this.$refs.resultComponent.$refs.content.innerHTML);var e=this.$refs.resultComponent.$refs.content.innerHTML;t.html(e,{callback:function(t){t.save()},x:10,y:10}),t.save("sample.pdf")},downloadWithCSS:function(){var t=document.createElement("canvas");console.log(t),To()(this.$refs.resultComponent.$refs.content,{scale:5}).then((function(t){var e,n,a=t.toDataURL("image/png",e=t.width,n=t.height),c=n/e,r=new Po["a"]({}),o=r.internal.pageSize.width,s=r.internal.pageSize.height;s=o*c,r.addImage(a,"JPEG",.025*o,20,.8*o,.8*s),r.save("AssetComparison.pdf")}))}}),created:function(){this.checkPermissions(),this.setTemplateNames(),this.setTab()},components:{Materials:ft,Products:hc,Logistics:sr,Result:Vr,Salary:Lo}};n("5a03");const qo=it()(No,[["render",D]]);var Ro=qo,Mo=(n("a15b"),n("d81d"),n("5319"),n("a434"),n("e9c4"),n("bc3a")),Do=n.n(Mo),Ao={materialDelivery:{raw:3300,mul:1.25,price:function(){return this.raw*this.mul}},border:{"Простой":{raw:500,mul:3,price:function(){return this.mul*this.raw}},"Калиброванный":{raw:1e3,mul:3,price:function(){return this.mul*this.raw}}},edge:{type:{"№1":{raw:0,consumables:0},"№2":{raw:400,consumables:0},"№3":{raw:0,consumables:0},"№4":{raw:400,consumables:0},"№6":{raw:750,consumables:0},"№7":{raw:1500,consumables:0},"Утиный нос":{raw:750,consumables:0},"Фигурная":{raw:3130,consumables:1e3},mul:3,cmul:3,consumables:function(t){return this[t].consumables*this.cmul},price:function(t){return this[t].raw*this.mul+this.consumables(t)}},width:{"20 мм":{raw:800,consumables:300},"30 мм":{raw:900,consumables:300},"40 мм":{raw:1870,consumables:1e3},"Другая":{raw:2170,consumables:1e3},mul:3.2,cmul:3,consumables:function(t){return this[t].consumables*this.cmul},price:function(t){return this[t].raw*this.mul+this.consumables(t)}},angle:{45:{raw:500},90:{raw:0},mul:3,price:function(t){return this[t].raw*this.mul}}},sink:{"Накладная":{raw:1e3},"Поджимная":{raw:2500},"Интегрированная":{raw:12500},"Интегрированная 45°":{raw:17500},"Вровень":{raw:3500},mul:3,price:function(t){return this[t].raw*this.mul}},cookpanel:{"Накладная":{raw:1e3},"Интегрированная":{raw:3500},mul:3,price:function(t){return this[t].raw*this.mul}},socket:{raw:300,mul:3,price:function(){return this.raw*this.mul}},surface_docking:{"Прямая":{raw:800},"Косая":{raw:900},mul:3,price:function(t){return this[t].raw*this.mul}},cutout:{raw:250,mul:3,price:function(){return this.mul*this.raw}},wallpanel_length:{raw:790,mul:3,price:function(){return this.raw*this.mul}},ladder:{step:{raw:800,mul:3,price:function(){return this.raw*this.mul}},understep:{raw:800,mul:3,price:function(){return this.raw*this.mul}}},mounting:{fix:4e3,add:500,mul:1.3,distance:20,price:function(t){return this[t]*this.mul}},delivery:{fix:1800,distance:40,mul:1.67,price:function(t){return this[t]*this.mul}},manualLift:{raw:600,mul:1.334,price:function(){return this.raw*this.mul}},measurement:{fix:2e3,distance:30,mul:1.2,price:function(t){return this[t]*this.mul}},template:{fix:800,mul:1.25,price:function(){return this.fix*this.mul}},"Радиусный угол > 12":{fix:1e3,mul:3,price:function(){return this.fix*this.mul}},"Другие отверстия":{fix:1e3,mul:3,price:function(){return this.fix*this.mul}},"Обход пиластры":{fix:1500,mul:3,price:function(){return this.fix*this.mul}},"Конвекция":{type:{"вровень":{raw:500},"фрезеровка":{raw:3500},mul:3,price:function(t){return this[t].raw*this.mul}},price:function(){return 0}},"Лучи под сток воды":{fix:500,mul:3,price:function(){return this.fix*this.mul}},"Капельник":{fix:500,mul:3,price:function(){return this.fix*this.mul}},"Монтаж хром опоры заказчика":{fix:1500,mul:3,price:function(){return this.fix*this.mul}},"Стыковка опорной ноги из камня под 45":{fix:500,mul:3,price:function(){return this.fix*this.mul}},"Шлифовка подворота камня":{type:{"до 150 мм":{raw:300},"более 150мм":{raw:2500},mul:3,price:function(t){return this[t].raw*this.mul}},price:function(){return 0}},"Подворот из камня":{fix:1e3,mul:3,price:function(){return this.fix*this.mul}},"Демонтаж старых изделий (до 6 п.м.)":{fix:4e3,mul:1.2,price:function(){return this.fix*this.mul}}};function zo(t,e){return t>0&&e>0?{result:t*e+(t%1?1500:0)+Ao.materialDelivery.price()+(e>=1e5?1e4*t:.1*e*t),salary:t*e+(t%1?1500:0)+Ao.materialDelivery.raw}:{result:0,salary:0}}function Eo(t){return t.length>0?{result:Ao.wallpanel_length.price()*t.length,salary:Ao.wallpanel_length.raw*t.length,consumables:0,text:"Обработка, ".concat(t.length," п.м.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Uo(t){return t.stepLength?{result:(Ao.ladder.step.price()+Ao.edge.type.price("№2"))*t.stepLength+Ao.ladder.understep.price()*t.underStepLength,salary:(Ao.ladder.step.raw+Ao.edge.type["№2"].raw)*t.stepLength+Ao.ladder.understep.raw*t.underStepLength,consumables:0,text:"Обработка ступеней"}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Jo(t){return t.length>0?{result:Ao.border[t.type].price()*t.length,salary:Ao.border[t.type].raw*t.length,consumables:0,text:"".concat(t.type," бортик, ").concat(t.length," п.м.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Bo(t){var e=[t.type,t.width,t.angle,t.length],n=e[0],a=e[1],c=e[2],r=e[3],o=Ao.edge;return n&&a&&c&&r>0?{result:r*(o.angle.price(c)+o.width.price(a)+o.type.price(n)),salary:r*(o.angle[c].raw+o.width[a].raw+o.type[n].raw),consumables:r*(o.width[a].consumables+o.type[n].consumables),text:"Кромка ".concat(n,", ").concat(a,", склейка ").concat(c,"°, ").concat(r," п.м.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Vo(t){return t.quantity>0&&t.type?{result:Ao.sink.price(t.type)*t.quantity,salary:Ao.sink[t.type].raw*t.quantity,consumables:0,text:"".concat(t.type," мойка, ").concat(t.quantity," шт.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Wo(t){return t.quantity?{result:Ao.socket.price()*t.quantity,salary:Ao.socket.raw*t.quantity,consumables:0,text:"Вырез под розетку, ".concat(t.quantity," шт.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Fo(t){return t.quantity&&t.type?{result:Ao.surface_docking.price(t.type)*t.quantity,salary:Ao.surface_docking[t.type].raw*t.quantity,consumables:0,text:"Стыковка плоскостей ".concat(t.type.toLowerCase(),", ").concat(t.quantity," шт.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Ho(t){return t.quantity?{result:Ao.cutout.price()*t.quantity,salary:Ao.cutout.raw*t.quantity,consumables:0,text:"Простой вырез, ".concat(t.quantity," шт.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Go(t){return t.quantity>0&&t.type?{result:Ao.cookpanel.price(t.type)*t.quantity,salary:Ao.cookpanel[t.type].raw*t.quantity,consumables:0,text:"".concat(t.type," варочная панель, ").concat(t.quantity," шт.")}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Xo(t){return t.mounting>0&&t.product_length>0?{text:"Установка изделий",result:(t.product_length>=2?Ao.mounting.price("add")*t.product_length:0)+(t.distance*Ao.mounting.price("distance")+Ao.mounting.price("fix"))*t.mounting,salary:(t.product_length>=2?Ao.mounting.add*t.product_length:0)+(t.distance*Ao.mounting.distance+Ao.mounting.fix)*t.mounting,consumables:0}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Ko(t){return t.delivery?{text:"Доставка изделий",result:Math.ceil((Ao.delivery.price("fix")+Ao.delivery.price("distance")*t.distance)*t.delivery),salary:(Ao.delivery.fix+Ao.delivery.distance*t.distance)*t.delivery}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Qo(t){return t.floor>0?{text:"Ручной подъем, ".concat(t.floor," этаж"),result:Math.ceil(Ao.manualLift.price()*t.floor),salary:Ao.manualLift.raw*t.floor}:{result:0,salary:0,consumables:0,text:"Незаполненная опция"}}function Yo(t){return t.measurement>0?{result:(Ao.measurement.price("fix")+t.distance*Ao.measurement.price("distance")+Ao.template.price())*t.measurement,salary:(Ao.measurement.fix+t.distance*Ao.measurement.distance+Ao.template.fix)*t.measurement}:{result:0,salary:0,text:"Незаполненная опция"}}function Zo(t){var e="undefined"!=typeof t.type&&t.type.selected,n="undefined"!=typeof t.count?t.count:0,a="undefined"!=typeof t.isChecked?t.isChecked:0,c=Ao[t.name];return{name:t.name,result:n*(c.price()+(e?c.type.price(e):0))+Number(a)*c.price(),salary:n*(c.fix?c.fix:0+(e?c.type[e].raw:0))+Number(a)*(c.fix?c.fix:0)}}function ts(t){return t.split(" ").map((function(t){return t.charAt(0).toUpperCase()+t.slice(1)})).join(" ")}function es(t,e){setTimeout((function(){var n=document.getElementById("".concat(t,"-").concat(e));n.scrollIntoView({block:"center",behavior:"auto"})}),0)}var ns=Object(z["a"])({state:JSON.parse(document.getElementById("values").textContent),actions:{save:function(t){var e=t.commit,n=t.state;Do.a.put("save",{data:{state:n,updateTime:window.localStorage.getItem("lastUserInput")}}).then((function(t){t.data.new&&(window.history.pushState({},"Расчет ".concat(t.data.id),t.data.id),e("setId",t.data.id))})).catch((function(t){alert(t)}))},changeTemplate:function(t,e){var n=t.commit;Do.a.post("template/get",{id:e}).then((function(t){n("setTemplate",t.data.values)})).catch((function(t){alert(t)}))},saveTemplate:function(t){var e=t.state;Do.a.put("template/save",{state:e}).catch((function(t){alert(t)}))}},getters:{totalProductSum:function(t,e){return{discount:e.productSum.discount+e.addonSum.discount,result:e.productSum.result+e.addonSum.result,salary:e.productSum.salary+e.addonSum.salary}},overPrice:function(t){return{result:Number(t.values.logistics.overPrice)}},materialPrice:function(t){return function(e){var n=t.values.material_cards[e];return zo(n.materialCount,n.materialPrice)}},materials:function(t,e){return t.values.material_cards.map((function(t,n){var a=e.materialPrice(n);return{name:t.materialName,count:t.materialCount,result:a.result,salary:a.salary}}))},products:function(t,e){return t.values.product_cards.map((function(t,n){return{options:e.optionsPrices(n),name:t.chosenType}}))},optionsPrices:function(t){return function(e){return t.values.product_cards[e].option_card.map((function(e){var n=a[e.component_type.replace("-","_")](e.data);return n.discount=Math.ceil(n.result*(1-t.values.discount/100)),n}))}},installation:function(t){var e=t.values.product_cards.filter((function(t){return t.installation.status}));return e=e.length>0?e.map((function(t){return Number(t.installation.length)})).reduce((function(t,e){return t+e})):0,Xo({product_length:e,distance:t.values.logistics.distance,mounting:t.values.logistics.mounting})},delivery:function(t){return Ko({distance:t.values.logistics.distance,delivery:t.values.logistics.delivery})},lifting:function(t){return Qo({floor:t.values.logistics.manualLifting})},measurementPrice:function(t){return Yo({distance:t.values.logistics.distance,measurement:t.values.logistics.measurement})},addons:function(t,e){return t.values.product_cards.map((function(t,n){return e.addonPrices(n)}))},addonPrices:function(t){return function(e){var n=t.values.product_cards[e].addons;return n.map((function(e){var n=Zo(e);return n.discount=Math.ceil(n.result*(1-t.values.discount/100)),n})).filter((function(t){return t.result>0}))}},materialSum:function(t,e){return e.materials.length?e.materials.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary}})):{result:0,salary:0}},optionSum:function(t,e){return e.products.map((function(t){return t.options.length>0?t.options.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary,discount:t.discount+e.discount,consumables:t.consumables+e.consumables}})):{result:0,salary:0,consumables:0,discount:0}}))},productSum:function(t,e){return e.optionSum.length>0?e.optionSum.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary,discount:t.discount+e.discount,consumables:t.consumables+e.consumables}})):{result:0,salary:0,consumables:0,discount:0}},additionalWork:function(t){return{result:Number(t.values.logistics.additionalWork),text:"Дополнительные работы"}},templates:function(t){return{result:Number(t.values.logistics.templatePrice),text:"Изготовление шаблонов"}},logisticsList:function(t,e){return[e.lifting,e.delivery,e.installation,e.additionalWork,e.templates].filter((function(t){return t.result}))},logisticRawSum:function(t,e){return e.logisticsList.length>0?function(t){var e=t.filter((function(t){return"undefined"!=typeof t.salary}));return e.length?e.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary}})):{result:0,salary:0}}(e.logisticsList):{result:0,salary:0}},logisticSum:function(t,e){return{result:e.logisticRawSum.result+e.additionalWork.result+e.templates.result}},addonSumList:function(t,e){return e.addons.map((function(t){return t.length>0?t.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary,discount:t.discount+e.discount}})):{result:0,salary:0,discount:0}}))},addonSum:function(t,e){return e.addonSumList.length>0?e.addonSumList.reduce((function(t,e){return{result:t.result+e.result,salary:t.salary+e.salary,discount:t.discount+e.discount}})):{result:0,salary:0,discount:0}},rawTotal:function(t,e){return[e.materialSum,e.measurementPrice,e.addonSum,e.productSum,e.logisticRawSum].reduce((function(t,e){return"undefined"==typeof t.discount&&(t.discount=t.result),"undefined"==typeof e.discount&&(e.discount=e.result),{result:t.result+e.result,salary:t.salary+e.salary,discount:t.discount+e.discount}}))},total:function(t,e){return console.log(e.rawTotal),e.rawTotal.discount+e.templates.result+e.overPrice.result+e.additionalWork.result},spendings:function(t,e){return[e.rawTotal.salary,e.productSum.consumables].filter((function(t){return"undefined"!=typeof t})).reduce((function(t,e){return t+e}))},recommendedDiscount:function(t,e){var n=function(){var t=e.spendings/e.rawTotal.result;return console.log(t),t>=.9?0:t>=.8?10:t>=.75?20:t<.75?30:void 0};return n()}},mutations:{setTemplate:function(t,e){t.values=e},setId:function(t,e){t.id=e},addMaterialCard:function(t){var e=t.values.material_cards;e.push({materialName:null,materialPrice:null,materialCount:null,result:0}),es("material-card",e.length-1)},removeMaterialCard:function(t,e){t.values.material_cards.splice(e,1)},updateMaterialName:function(t,e){t.values.material_cards[e.index].materialName=ts(e.value)},updateMaterialField:function(t,e){t.values.material_cards[e.index][e.field]=e.value},addProductCard:function(t){var e=t.values.product_cards;e.push({chosenType:"",option_card:[],installation:{status:!1,length:null},addons:JSON.parse(JSON.stringify(Et))}),es("product-card",e.length-1)},removeProductCard:function(t,e){t.values.product_cards.splice(e,1)},updateCardOptions:function(t,e){var n=t.values.product_cards[e.cardIndex];n.chosenType=e.choice,n.option_card=zt[e.choice].defaultOptions.map((function(t){return{component_type:t.component,data:JSON.parse(JSON.stringify(t.data)),result:null}}))},addCardOption:function(t,e){if(null!=e.choice){var n=At[e.choice],a=t.values.product_cards[e.cardIndex].option_card;a.push({component_type:n.component,data:JSON.parse(JSON.stringify(n.data)),result:null})}},removeCardOption:function(t,e){t.values.product_cards[e.cardIndex].option_card.splice(e.optionIndex,1)},updateOptionValue:function(t,e){var n=t.values.product_cards[e.cardIndex].option_card[e.optionIndex];n.data[e.field]=e.value},insertAddons:function(t,e){t.values.product_cards[e].addons=JSON.parse(JSON.stringify(Et))},updateAddonInput:function(t,e){t.values.product_cards[e.cardIndex].addons[e.addonIndex][e.field]=e.value},updateAddonSelector:function(t,e){t.values.product_cards[e.cardIndex].addons[e.addonIndex][e.field].selected=e.value},updateAddonCheckbox:function(t,e){var n=t.values.product_cards[e.cardIndex].addons[e.addonIndex];n.isChecked=!n.isChecked},updateInstallationLength:function(t,e){t.values.product_cards[e.cardIndex].installation.length=e.value},updateInstallationStatus:function(t,e){t.values.product_cards[e.cardIndex].installation.status=e.value,!0===e.value&&t.values.logistics.mounting<1&&(t.values.logistics.mounting=1)},updateLogisticsInfo:function(t,e){t.values.logistics[e.field]=e.value},setDiscount:function(t,e){t.values.discount=e}}}),as=n("9a7e"),cs=n("130e");function rs(t){13===t.keyCode&&document.activeElement.blur()}function os(t){var e=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),a=0;a<n.length;a++){var c=n[a].trim();if(c.substring(0,t.length+1)===t+"="){e=decodeURIComponent(c.substring(t.length+1));break}}return e}document.addEventListener("keydown",rs);var ss=os("csrftoken");function ls(){setTimeout((function(){ns.dispatch("save")}),1e4)}function us(){return is.apply(this,arguments)}function is(){return is=Object(c["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e=Date.now(),window.localStorage.setItem("lastUserInput",e),(!window.localStorage.getItem("queue_for_update_start")||e-Number(window.localStorage.getItem("queue_for_update_start"))>11e3)&&(window.localStorage.setItem("queue_for_update_start",e),ls());case 3:case"end":return t.stop()}}),t)}))),is.apply(this,arguments)}function ds(t){return bs.apply(this,arguments)}function bs(){return bs=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:Do.a.put("mutate",{time:Date.now(),mutation:e,estimation_id:ns.state.id});case 1:case"end":return t.stop()}}),t)}))),bs.apply(this,arguments)}Do.a.defaults.headers.common={"X-CSRFToken":ss},ns.subscribe((function(t){us(),ds(t)}));var ps=Object(r["c"])(Ro);ps.use(ns),ps.use(as["a"],{disableClick:!0}),ps.use(cs["a"],Do.a),ps.mount("#app")},"577f":function(t,e,n){},"5a03":function(t,e,n){"use strict";n("b097")},8183:function(t,e,n){"use strict";n("577f")},8843:function(t,e,n){"use strict";n("fbb7")},"98f3":function(t,e,n){},b097:function(t,e,n){},d380:function(t,e,n){"use strict";n("e4a7")},e4a7:function(t,e,n){},fbb7:function(t,e,n){}});
//# sourceMappingURL=app.js.map